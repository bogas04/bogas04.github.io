<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Learning ReactJS in 2020 | Blog | Divjot Singh</title><meta name="title" content="Learning ReactJS in 2020 | Blog | Divjot Singh"/><meta name="description" content="My take on introducing you to ReactJS"/><meta name="keywords" content="react, react-native, react-native-web"/><meta property="og:type" content="website"/><meta property="og:url" content="https://bogas04.github.io/blog/learning-reactjs-in-2020-9-14-2020"/><meta property="og:title" content="Learning ReactJS in 2020 | Blog | Divjot Singh"/><meta property="og:description" content="My take on introducing you to ReactJS"/><meta property="og:image" content="https://bogas04.github.io/img/blog/reactjs.png"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:url" content="https://bogas04.github.io/blog/learning-reactjs-in-2020-9-14-2020"/><meta property="twitter:title" content="Learning ReactJS in 2020 | Blog | Divjot Singh"/><meta property="twitter:description" content="My take on introducing you to ReactJS"/><meta property="twitter:image" content="https://bogas04.github.io/img/blog/reactjs.png"/><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover" name="viewport"/><meta name="format-detection" content="telephone=no"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta content="#333333" name="theme-color"/><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/931f09647f177ea2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/931f09647f177ea2.css" data-n-g=""/><link rel="preload" href="/_next/static/css/1bf7c882aa33b937.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1bf7c882aa33b937.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-d38be8d96a62f950.js" defer=""></script><script src="/_next/static/chunks/framework-7a7e500878b44665.js" defer=""></script><script src="/_next/static/chunks/main-270ef8e3038ac606.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6a16c061dd9adf2e.js" defer=""></script><script src="/_next/static/chunks/664-339c0d1773136295.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-b7f326f34261df12.js" defer=""></script><script src="/_next/static/UU2HjGMS1_aNul3moXqPI/_buildManifest.js" defer=""></script><script src="/_next/static/UU2HjGMS1_aNul3moXqPI/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.11"></style></head><body><div id="__next"><style>
        main {
            position: relative;
            max-width: 56em;
            background-color: white;
            padding: 2em;
            margin: 0 auto;
            box-sizing: border-box;
        }

        img {
            width: 100%;
        }

        @media (prefers-color-scheme: dark) {
            body,
            main {
                background: #333;
                color: white;
            }

            a {
                color: lightsalmon;
            }
        }
    </style><main><style>
  .content h2 {
    font-size: 1.6em;
    margin: 1em 0;
    font-weight: 500;
  }

  .content h3 {
    font-size: 1.2em;
    margin: 0.8em 0;
    font-weight: 500;
  }

  .content video {
    max-width: 100%;
  }

  .content img,
  .content video,
  .content h4 {
    margin: 1em 0;
  }

  .content pre {
    padding: 10px;
    font-size: 20px;
    line-height: 26px;
    overflow-x: auto;
  } 

  .content pre code {
    background-color: initial;
  }

  blockquote {
    position: relative;
    font-style: italic;
  }

  blockquote::before {
    content: &quot;‚Äú&quot;;
    position: absolute;
    margin: -0.5em;
    color: #333333;
    font-size: 3em;
    left: 0;
    top: 0;
  }

  blockquote::after {
    content: &quot;‚Äù&quot;;
    position: absolute;
    margin: -0.5em;
    color: #333333;
    font-size: 3em;
    right: 0;
    bottom: 0;
  }

  blockquote + p &gt; a {
    display: flex;
    justify-content: flex-end;
  }

  blockquote + p &gt; a::before {
    content: &quot;‚Äî &quot;;
    white-space: pre;
  }

  @media (prefers-color-scheme: dark) {
    .content pre {
      color: black;
    }

    blockquote::after, blockquote::before {
      color: white;
    }
  }

  .content ul {
    line-height: 1.5;
  }

  .content li {
    margin: 0 0 0.5em 0;
  }
  h4 {
    text-transform: capitalize;
    margin-bottom: 2em;
  }
  h4 p{
    margin: 0.4em 0;
  }
  </style><h1>Learning ReactJS in 2020</h1><h4><a href="/">Divjot Singh</a> | <a href="/blog">Blog</a> |<!-- --> <!-- -->Mon Sep 14 2020<br/><p>react, react-native, react-native-web</p></h4><div class="content"><p><strong>Prerequisites</strong>: Working knowledge of JavaScript, ES6 features (classes, arrow functions at least). Here's a <a href="/blog/javascript-cheat-sheet-in-2020-9-14-2020">cheatsheet</a> for same.</p>
<p><img src="/img/blog/reactjs.png" alt="ReactJS Logo">
Screenshot of official <a href="https://reactjs.org">ReactJS</a> website.</p>
<h2 id="user-content-why-do-we-even-need-react"><a href="#why-do-we-even-need-react" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Why do we even need React?</h2>
<ul>
<li>Every frontend application deals with calling APIs, transforming data, listening to user's actions (click, key presses) and updating UI accordingly.</li>
<li>As you have more and more interactable/dynamic elements in your UI, keeping a reference of each element and manually changing it whenever data (let's call it state of application) changes can be cumbersome. It can also be hard to remember to update all elements that are related to one particular state variable.</li>
<li>Let's take example of an app like Swiggy. When I click on add item, see how many elements update, and how many calculations are going on.</li>
</ul>
<p></p>
<ul>
<li>Not just that, there are a lot of edge cases that have to be handled. Observe what happens when I try to add item from other restaurant.</li>
</ul>
<p></p>
<ul>
<li>Clearly manually updating each state variable and element is invitation to a messy codebase. And we've not yet seen how hard it can be to update UI code.</li>
<li>For something as simple as updating text of any element, we've to do the following. Imagine having id's all over your HTML code and writing code to manually mutate every single field, each time one state variable changes.</li>
</ul>
<div><pre><code><span>// pseudo-ish code, just to illustrate how one might tackle the problem</span>
<span>// with imperative procedural approach</span>

<span>const</span> addToCart <span>=</span> <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>"add-to-cart"</span><span>)</span><span>;</span>

addToCart<span>.</span><span>addEventListener</span><span>(</span><span>"click"</span><span>,</span> <span>(</span><span>e</span><span>)</span> <span>=></span> <span>{</span>
  <span>if</span> <span>(</span><span>getCartRestaurant</span><span>(</span><span>)</span> <span>!==</span> <span>getCurrentRestaurant</span><span>(</span><span>)</span><span>)</span> <span>{</span>
    <span>showPopup</span><span>(</span><span>)</span><span>;</span>
    <span>return</span><span>;</span>
  <span>}</span>

  e<span>.</span><span>target</span><span>.</span><span>innerText</span> <span>=</span> e<span>.</span><span>target</span><span>.</span><span>innerText</span> <span>+</span> <span>1</span><span>;</span>

  <span>const</span> itemDetails <span>=</span> itemStore<span>.</span><span>get</span><span>(</span>addToCart<span>.</span><span>data</span><span>.</span><span>itemId</span><span>)</span><span>;</span>
  <span>if</span> <span>(</span><span>!</span><span>cartExists</span><span>(</span><span>)</span><span>)</span> <span>{</span>
    <span>addCartToUI</span><span>(</span><span>)</span><span>;</span> <span>// series of commands to build up cart UI</span>
    <span>addItemToCartUI</span><span>(</span>itemDetails<span>)</span><span>;</span> <span>// series of commands to update cart UI with new itemDetails</span>
  <span>}</span>

  <span>addItemToCartUI</span><span>(</span>itemDetails<span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre></div>
<ul>
<li>This is where React comes handy by abstracting the imperative commands in a declarative API, while also making it reactive to state changes. So whenever our state changes, React will take care of updating the UI as defined by our code.</li>
</ul>
<div><pre><code><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>addItemToCartState</span><span>(</span>itemDetails<span>)</span><span>}</span></span><span>></span></span><span>Add</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span>;</span>
<span>{</span>
  cartExists <span>&#x26;&#x26;</span> <span><span><span>&#x3C;</span><span>Cart</span></span> <span>items</span><span><span>=</span><span>{</span>cart<span>.</span><span>items</span><span>}</span></span> <span>/></span></span><span>;</span>
<span>}</span>
<span>{</span>
  cartExists <span>&#x26;&#x26;</span> currentRestaurant <span>!==</span> cart<span>.</span><span>restaurant</span> <span>&#x26;&#x26;</span> <span><span><span>&#x3C;</span><span>Popup</span></span> <span>/></span></span><span>;</span>
<span>}</span>
</code></pre></div>
<ul>
<li>React takes care of rendering to UI, we just need to make update cart state, the components would react to it naturally. By making reusable components like Cart and Popup, you don't have to duplicate code each time you want to construct UI and behavior around it. Components can naturally compose making it really easy to write code.</li>
<li>React Native is another platform that uses React in its core. All fundamentals of React are ditto same in React Native, with only differences in some APIs and core components provided. The value proposition of React Native is that unlike native apps, you can use single codebase for iOS, Android and Web, while also bypassing App store/Play store for releasing non-native changes (all UI &#x26; business logic majorly). We'll discuss this point later.</li>
</ul>
<h2 id="user-content-jsx---the-language-of-react"><a href="#jsx---the-language-of-react" aria-hidden="true" tabindex="-1"><span>üîó </span></a>JSX - The language of React</h2>
<div><pre><code><span>import</span> <span><span>React</span></span> <span>from</span> <span>"react"</span><span>;</span>

<span>function</span> <span><span>Person</span></span><span>(</span><span>props</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span>div</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>h1</span> <span>style</span><span><span>=</span><span>{</span><span>{</span> <span>color</span><span>:</span> <span>"red"</span> <span>}</span><span>}</span></span><span>></span></span><span>{</span>props<span>.</span><span>name</span><span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span>div</span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// is transpiled into</span>

<span>import</span> <span><span>React</span></span> <span>from</span> <span>"react"</span><span>;</span>

<span>function</span> <span><span>Person</span></span><span>(</span><span>props</span><span>)</span> <span>{</span>
  <span>return</span> <span>React</span><span>.</span><span>createElement</span><span>(</span>
    <span>"div"</span><span>,</span>
    <span>null</span><span>,</span>
    <span>React</span><span>.</span><span>createElement</span><span>(</span><span>"h1"</span><span>,</span> <span>{</span> <span>style</span><span>:</span> <span>{</span> <span>color</span><span>:</span> <span>"red"</span> <span>}</span> <span>}</span><span>,</span> props<span>.</span><span>name</span><span>)</span>
  <span>)</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>Before we understand React, we must first take time to understand JSX, the way you describe UI in React Applications. JSX is basically an extension to JavaScript to add support for XML like syntax. While JSX isn't necessary, it does make it much more easy to write code. React's philosophy deviates from traditional template based frameworks (Angular, Vue, Svelte) in the sense that it doesn't mix programming constructs into the template, but rather mixes HTML into JavaScript itself.</p>
<p>This makes writing UI code familiar to HTML, while also having access to entire JavaScript syntax. This IMO reduces a lot of boilerplate and template specific knowledge.</p>
<p>Note: A tool like babel or typescript can be used to do this transformation. Note, as it is JSX won't run on browser, it needs to be converted to JavaScript, hence the need of a build tool.</p>
<div><pre><code><span><span><span>&#x3C;</span><span>MyComponent</span></span> <span>isActive</span> <span>/></span></span><span>;</span>
<span>// is transpiled into</span>
<span>React</span><span>.</span><span>createElement</span><span>(</span><span>MyComponent</span><span>,</span> <span>{</span> isActive<span>:</span> <span>true</span> <span>}</span><span>)</span><span>;</span>

<span><span><span>&#x3C;</span><span>MyComponent</span></span> <span>isActive</span> <span><span>{</span><span>...</span>props<span>}</span></span> <span>/></span></span><span>;</span>
<span>// is loosely transpiled into</span>
<span>React</span><span>.</span><span>createElement</span><span>(</span><span>MyComponent</span><span>,</span> <span>{</span> isActive<span>:</span> <span>true</span><span>,</span> <span>...</span>props <span>}</span><span>)</span><span>;</span>
</code></pre></div>
<h2 id="user-content-a-react-component"><a href="#a-react-component" aria-hidden="true" tabindex="-1"><span>üîó </span></a>A React component</h2>
<p>Now that we know how to express UI in a React app efficiently (code readability wise), we can look into an actual React component now.</p>
<p>There are 3 primary parts to a React component. It can have internal state, it can listen to props sent by its parent component, and it can return a sub-tree of UI expressed as JSX.</p>
<p>There are two paradigms you can follow to make a React Component.</p>
<ul>
<li>
<p>Class based components</p>
<blockquote>
<p>Any class that extends either of <code>React.Component</code> and implements at a bare minimum render method that returns JSX, is a class based component.</p>
</blockquote>
</li>
</ul>
<div><pre><code><span>// basic example</span>
<span>class</span> <span>MyComponent</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>Hello!</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<ul>
<li>
<p>Functional components</p>
<blockquote>
<p>Any function that returns JSX is a functional component.</p>
</blockquote>
</li>
</ul>
<div><pre><code><span>// basic example</span>
<span>function</span> <span><span>MyComponent</span></span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>Hello!</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span>

<span>// smoller plz</span>
<span>const</span> <span><span>MyComponent</span></span> <span>=</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>Hello!</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>;</span>

<span>// i sed smolllllll</span>
<span>const</span> <span><span>MyComponent</span></span> <span>=</span> <span>(</span><span>)</span> <span>=></span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>Hello!</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
</code></pre></div>
<p>As you can see, functional component seem to be quite simple in their definition. Each component can accept props and can have an internal state. But how do these access props and state?</p>
<h3 id="user-content-props"><a href="#props" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Props</h3>
<div><pre><code><span>// functional component</span>
<span>function</span> <span><span>MyComponent</span></span><span>(</span><span>props</span><span>)</span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>{</span>props<span>.</span><span>title</span><span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span>

<span>// class based component</span>
<span>class</span> <span>MyComponent</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>{</span><span>this</span><span>.</span><span>props</span><span>.</span><span>title</span><span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<h3 id="user-content-state"><a href="#state" aria-hidden="true" tabindex="-1"><span>üîó </span></a>State</h3>
<div><pre><code><span>// functional component</span>
<span>function</span> <span><span>MyComponent</span></span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>
  <span>return</span> <span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span>count <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span>;</span>
<span>}</span>

<span>// class based component</span>
<span>class</span> <span>MyComponent</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  <span>constructor</span><span>(</span><span>props</span><span>)</span> <span>{</span>
    <span>super</span><span>(</span>props<span>)</span><span>;</span>
    <span>this</span><span>.</span><span>state</span> <span>=</span> <span>{</span> <span>count</span><span>:</span> <span>0</span> <span>}</span><span>;</span>
  <span>}</span>
  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>(</span>
      <span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span> <span>count</span><span>:</span> <span>this</span><span>.</span><span>state</span><span>.</span><span>count</span> <span>+</span> <span>1</span> <span>}</span><span>)</span><span>}</span></span><span>></span></span><span></span>
<span>        </span><span>{</span>count<span>}</span><span></span>
<span>      </span><span><span><span>&#x3C;/</span>button</span><span>></span></span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>// smoller plz</span>
<span>class</span> <span>MyComponent</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  state <span>=</span> <span>{</span> <span>count</span><span>:</span> <span>0</span> <span>}</span><span>;</span>
  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>(</span>
      <span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span> <span>count</span><span>:</span> <span>this</span><span>.</span><span>state</span><span>.</span><span>count</span> <span>+</span> <span>1</span> <span>}</span><span>)</span><span>}</span></span><span>></span></span><span></span>
<span>        </span><span>{</span>count<span>}</span><span></span>
<span>      </span><span><span><span>&#x3C;/</span>button</span><span>></span></span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<p>There's fundamental difference in idea of state in a class component and functional component. In a class component, entire state is part of <code>this.state</code> and each state variable would be a key of it. While in functional component, each state variable is created individually by virtue of <code>useState</code>, a magical-looking function that somehow remembers current state value between renders, and can differentiate one from another. You can also see how state is tightly coupled to the class (it's directly inside the constructor), while in case of function, it is yet another function call. If say you had 3 state variables, you can group 3 <code>useState</code>s in one function call and use it. This isn't quite intuitively obvious when we see class based components.</p>
<p>Originally, we only had class based components as the only viable option as only they supported state and other features. However, React introduced concept of <a href="http://reactjs.org/hooks">hooks</a> (such as <code>useState</code>), that gives a lot of flexibility to functional components making them not only on-par but actually superior in terms of code re-usability and agility.</p>
<p>Since it's much simpler to understand functional components, we'll go through them first so that you can contribute ASAP. When we discuss lifecycle methods, we'll learn more about the differences.</p>
<h3 id="user-content-lifecycles-and-side-effects"><a href="#lifecycles-and-side-effects" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Lifecycles and Side-effects</h3>
<p>Having access to state and props is very powerful to create dynamic UIs. However, you also need to know about the lifecycle of a component. You may want to call an API as soon as the UI is visible to user. Or may want to cancel a polling request as soon as the component is removed from current tree of components. You may want to know when a <code>query</code> prop has been updated by a parent of a <code>&#x3C;Search query={userQuery} /></code> component, to fetch new results based on updated <code>query</code>. All these are side effects of component's life cycle. Perform this side effect when some event occurs (component loads, state changes, prop changes, component unloads to name a few).</p>
<p>Let's see how to listen to these events in class based components first.</p>
<h3 id="user-content-class-based-components"><a href="#class-based-components" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Class Based Components</h3>
<h4 id="user-content-when-a-component-loads"><a href="#when-a-component-loads" aria-hidden="true" tabindex="-1"><span>üîó </span></a>When a component loads</h4>
<div><pre><code><span>class</span> <span>MyComponent</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  state <span>=</span> <span>{</span> <span>loading</span><span>:</span> <span>true</span><span>,</span> <span>data</span><span>:</span> <span>null</span> <span>}</span><span>;</span>

  <span>async</span> <span>componentDidMount</span><span>(</span><span>)</span> <span>{</span>
    <span>// perform on load side effects</span>
    <span>const</span> data <span>=</span> <span>await</span> <span>callApi</span><span>(</span><span>)</span><span>;</span>
    <span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span> data<span>,</span> <span>loading</span><span>:</span> <span>false</span> <span>}</span><span>)</span><span>;</span>
  <span>}</span>

  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>const</span> <span>{</span> loading<span>,</span> data <span>}</span> <span>=</span> <span>this</span><span>.</span><span>state</span><span>;</span>
    <span>if</span> <span>(</span>loading<span>)</span> <span>return</span> <span>"Loading..."</span><span>;</span>

    <span>return</span> <span><span><span>&#x3C;</span><span>User</span></span> <span>data</span><span><span>=</span><span>{</span>data<span>.</span><span>user</span><span>}</span></span> <span>/></span></span><span>;</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<h4 id="user-content-when-a-component-is-removed-from-tree"><a href="#when-a-component-is-removed-from-tree" aria-hidden="true" tabindex="-1"><span>üîó </span></a>When a component is removed from tree</h4>
<div><pre><code><span>class</span> <span>MyComponent</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  state <span>=</span> <span>{</span> <span>timer</span><span>:</span> <span>0</span> <span>}</span><span>;</span>

  <span>// update state.timer every 1000 ms</span>
  <span>poll</span> <span>=</span> <span>(</span><span>)</span> <span>=></span>
    <span>setInterval</span><span>(</span>
      <span>(</span><span>)</span> <span>=></span> <span>this</span><span>.</span><span>setState</span><span>(</span><span>(</span><span>oldState</span><span>)</span> <span>=></span> <span>(</span><span>{</span> <span>timer</span><span>:</span> oldState<span>.</span><span>timer</span> <span>+</span> <span>1</span> <span>}</span><span>)</span><span>)</span><span>,</span>
      <span>1000</span>
    <span>)</span><span>;</span>

  <span>componentDidMount</span><span>(</span><span>)</span> <span>{</span>
    <span>this</span><span>.</span><span>timer</span> <span>=</span> <span>poll</span><span>(</span><span>)</span><span>;</span>
  <span>}</span>

  <span>componentWillUnmount</span><span>(</span><span>)</span> <span>{</span>
    <span>clearInterval</span><span>(</span><span>this</span><span>.</span><span>timer</span><span>)</span><span>;</span>
  <span>}</span>

  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>{</span><span>this</span><span>.</span><span>state</span><span>.</span><span>timer</span><span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<h4 id="user-content-when-a-prop-is-updated"><a href="#when-a-prop-is-updated" aria-hidden="true" tabindex="-1"><span>üîó </span></a>When a prop is updated</h4>
<div><pre><code><span>class</span> <span>MyComponent</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  state <span>=</span> <span>{</span><span>results</span><span>:</span> <span>[</span><span>]</span><span>,</span> <span>loading</span><span>:</span> <span>true</span><span>}</span>

  <span>componentDidMount</span><span>(</span><span>)</span> <span>{</span>
      <span>fetchNewResultsAndUpdateState</span><span>(</span><span>this</span><span>.</span><span>props</span><span>.</span><span>query</span><span>)</span><span>;</span>
  <span>}</span>
  <span>componentDidUpdate</span><span>(</span><span>prevProps<span>,</span> prevState</span><span>)</span> <span>{</span>
    <span>// query updated</span>
    <span>if</span> <span>(</span>prevProps<span>.</span><span>query</span> <span>!==</span> <span>this</span><span>.</span><span>props</span><span>.</span><span>query</span><span>)</span> <span>{</span>
      <span>fetchNewResultsAndUpdateState</span><span>(</span><span>this</span><span>.</span><span>props</span><span>.</span><span>query</span><span>)</span><span>;</span>
    <span>}</span>
  <span>}</span>
  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>const</span> <span>{</span>results<span>,</span>loading<span>}</span> <span>=</span> <span>this</span><span>.</span><span>state</span><span>;</span>

    <span>if</span> <span>(</span>loading<span>)</span> <span>return</span> <span>"Getting your results..."</span><span>;</span>

    <span>return</span> <span>(</span>
      <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>        </span><span>{</span>results<span>.</span><span>map</span><span>(</span><span>result</span> <span>=></span> <span><span><span>&#x3C;</span><span>SearchResult</span></span> <span>result</span><span><span>=</span><span>{</span>result<span>}</span></span> <span>key</span><span><span>=</span><span>{</span>result<span>.</span><span>id</span><span>}</span></span> <span>/></span></span><span>)</span><span>}</span><span></span>
<span>      </span><span><span><span>&#x3C;/</span></span><span>></span></span><span>;</span>
    <span>)</span>

  <span>}</span>
  <span>async</span> <span>fetchNewResultsAndUpdateState</span> <span>=</span> <span>query</span> <span>=></span> <span>{</span>
     <span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span><span>loading</span><span>:</span> <span>true</span><span>}</span><span>)</span><span>;</span>
     <span>const</span> results <span>=</span> <span>await</span> <span>getResults</span><span>(</span>query<span>)</span><span>;</span>
     <span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span><span>loading</span><span>:</span> <span>false</span><span>,</span>results<span>}</span><span>)</span><span>;</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<p>There are several more lifecycle methods provided by React.Component, but I think these 3 are enough for you to build highly dynamic UIs that are memory safe. They're quite powerful and let you know achieve a lot of complex interactions.</p>
<p>However, remember I told how class based components are tightly coupled to the business logic and are hence quite verbose?</p>
<ul>
<li>Logic to call API whenever a component loads seems to be a generic problem, but due to the way React classes are designed, it's hard to abstract this out in a neat way. There are several advanced patterns like Render Props and Higher Order Functions to mitigate that. Each time you want to call an API on load of a component, you've to write this logic in one way or another.</li>
<li>Since we can define <code>componentDidMount</code>, <code>componentDidUpdate</code> and <code>componentWillUnmount</code> only once, they'll keep the logic to call APIs, unsubscribe from intervals and subscriptions, clean up other resources in a one huge block. We can't really abstract it out as they're all interdependent. In our timer example, we need to rely on <code>componentDidMount</code> to set <code>this.timer</code> so that we can clear it in <code>componentWillUnmount</code>.</li>
<li>The logic to check which prop has been updated can quickly become a mess if you've to listen to changes on multiple props. What we really want to do is "whenever props.query changes, do this" but what we're actually doing is "whenever component updates, check if it updated due to change in query, if that's the case, do this". Also, since <code>componentDidUpdate</code> isn't fired when component is loaded, we need to perform the call in <code>componentDidMount</code> as well.</li>
</ul>
<h3 id="user-content-functional-components"><a href="#functional-components" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Functional Components</h3>
<p>Now that we've seen the power of lifecycle methods, let's see how functional components achieve that with basically making use <code>useEffect</code>. As you can imagine, <code>useEffect</code> seems to be a hook doing a lot of heavy lifting, so let's spend some time understanding it before going through above use cases.</p>
<p>Let's first see the signature of <code>useEffect</code>.</p>
<div><pre><code><span>// a function returning nothing</span>
<span>type</span> <span>CleanupType</span> <span>=</span> <span>(</span><span>)</span> <span>=></span> <span>void</span><span>;</span>
<span>// a function returning a CleanupType function</span>
<span>type</span> <span>CallbackType</span> <span>=</span> <span>(</span><span>)</span> <span>=></span> <span>CleanupType</span><span>;</span>

<span>// accepts CallbackType function and Dependency array, returns nothing</span>
<span>type</span> <span>UseEffectType</span> <span>=</span> <span>(</span><span>CallbackType</span><span>,</span> <span>Dependency</span><span>[</span><span>]</span><span>)</span> <span>=></span> <span>void</span><span>;</span>

<span>// example</span>

<span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>
  <span>doSomething</span><span>(</span>a<span>)</span><span>;</span>
  <span>return</span> <span>(</span><span>)</span> <span>=></span> <span>doSomethingElse</span><span>(</span>a<span>)</span><span>;</span>
<span>,</span> <span>[</span>a<span>]</span><span>)</span><span>;</span>
</code></pre></div>
<p>In above example, we are basically asking react to <code>doSomething</code> whenever <code>a</code> changes (dependency list tells react to listen to changes on that variable). And whenever <code>a</code> transitions from one value to another, before considering the new value, call <code>doSomethingElse</code>. This can be seen as an opportunity to do cleanup. Clear polling functions, unsubscribing event listeners, saving some state to storage etc.</p>
<p>An empty dependency list would imply whenever the component that has invoked this hook mounted and unmounted. If you omit the dependency list altogether, then you're essentially telling React to run your code on each render. You almost never want this.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>
    <span>doSomething</span><span>(</span><span>)</span><span>;</span>
  <span>}</span><span>)</span><span>;</span>

  <span>// is loosely same as</span>
  <span>doSomething</span><span>(</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>We can already see how the hooks aren't tied to the functional component that is invoking them, and that we can have multiple number of <code>useEffect</code>s, just like <code>useState</code>. Lastly, it's just a function call, and multiple such <code>useState</code> and <code>useEffect</code> s could be hidden beneath one <code>useComplexStuff</code> hook call.</p>
<p>Let's go through the use-cases mentioned above but using functional components now.</p>
<h4 id="user-content-when-a-component-loads-1"><a href="#when-a-component-loads-1" aria-hidden="true" tabindex="-1"><span>üîó </span></a>When a component loads</h4>
<div><pre><code><span>function</span> <span><span>MyComponent</span></span><span>(</span><span>)</span> <span>{</span>
  <span>// unlike class components, each state variable is individually stored</span>
  <span>const</span> <span>[</span>loading<span>,</span> setLoading<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>true</span><span>)</span><span>;</span>
  <span>const</span> <span>[</span>data<span>,</span> setData<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>null</span><span>)</span><span>;</span>

  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>
    <span>callApi</span><span>(</span><span>)</span><span>.</span><span>then</span><span>(</span><span>(</span><span>data</span><span>)</span> <span>=></span> <span>{</span>
      <span>setData</span><span>(</span>data<span>)</span><span>;</span>
      <span>setLoading</span><span>(</span><span>false</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
  <span>}</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>

  <span>if</span> <span>(</span>loading<span>)</span> <span>return</span> <span>"Loading..."</span><span>;</span>

  <span>return</span> <span><span><span>&#x3C;</span><span>User</span></span> <span>data</span><span><span>=</span><span>{</span>data<span>.</span><span>user</span><span>}</span></span> <span>/></span></span><span>;</span>
<span>}</span>
</code></pre></div>
<p>Please go through it and let me know if you've any questions. Try to absorb this API.</p>
<p>Now let's see if we can truly abstract out this logic to call API on component load.</p>
<div><pre><code><span>// so smoll. much nice.</span>
<span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>loading<span>,</span> data<span>]</span> <span>=</span> <span>useUser</span><span>(</span><span>)</span><span>;</span>

  <span>if</span> <span>(</span>loading<span>)</span> <span>return</span> <span>"Loading..."</span><span>;</span>

  <span>return</span> <span><span><span>&#x3C;</span><span>User</span></span> <span>data</span><span><span>=</span><span>{</span>data<span>.</span><span>user</span><span>}</span></span> <span>/></span></span><span>;</span>
<span>}</span>

<span>// but how do we implement useUser?</span>
<span>function</span> <span>useUser</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>loading<span>,</span> setLoading<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>true</span><span>)</span><span>;</span>
  <span>const</span> <span>[</span>data<span>,</span> setData<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>null</span><span>)</span><span>;</span>

  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>
    <span>callApi</span><span>(</span><span>)</span><span>.</span><span>then</span><span>(</span><span>(</span>data<span>)</span> <span>=></span> <span>{</span>
      <span>setData</span><span>(</span>data<span>)</span><span>;</span>
      <span>setLoading</span><span>(</span><span>false</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
  <span>}</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>

  <span>// this is the only extra line i've added to previous code.</span>
  <span>// It's basically copy paste refactoring</span>
  <span>return</span> <span>[</span>loading<span>,</span> data<span>]</span><span>;</span>
<span>}</span>
</code></pre></div>
<h4 id="user-content-when-a-component-is-removed-from-tree-1"><a href="#when-a-component-is-removed-from-tree-1" aria-hidden="true" tabindex="-1"><span>üîó </span></a>When a component is removed from tree</h4>
<p>Remember how I said <code>componentWillUnmount</code> depends on variables set by <code>componentDidMount</code>. Well, in case of <code>useEffect</code> the cleanup function has access to all variables created by the effect part of the function. So that's convenient.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>timer<span>,</span> setTimer<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>
    <span>const</span> interval <span>=</span> <span>setInterval</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>setTimer</span><span>(</span><span>(</span>t<span>)</span> <span>=></span> t <span>+</span> <span>1</span><span>)</span><span>,</span> <span>1000</span><span>)</span><span>;</span>
    <span>return</span> <span>(</span><span>)</span> <span>=></span> <span>clearInterval</span><span>(</span>interval<span>)</span><span>;</span>
  <span>}</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>

  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>{</span>timer<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span>
</code></pre></div>
<p>And again, we can abstract this into a <code>useInterval</code> hook. These custom hooks are called, yup, custom hooks. Prefix them with a <code>use</code> so that it plays nicely with <a href="https://www.npmjs.com/package/eslint-plugin-react-hooks">eslint-plugin-react-hooks</a>.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> timer <span>=</span> <span>useTimer</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>{</span>timer<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span>

<span>function</span> <span>useTimer</span><span>(</span>defaultValue<span>)</span> <span>{</span>
  <span>const</span> <span>[</span>timer<span>,</span> setTimer<span>]</span> <span>=</span> <span>useState</span><span>(</span>defaultValue<span>)</span><span>;</span>

  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>
    <span>const</span> interval <span>=</span> <span>setInterval</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>setTimer</span><span>(</span><span>(</span>t<span>)</span> <span>=></span> t <span>+</span> <span>1</span><span>)</span><span>,</span> <span>1000</span><span>)</span><span>;</span>
    <span>return</span> <span>(</span><span>)</span> <span>=></span> <span>clearInterval</span><span>(</span>interval<span>)</span><span>;</span>
  <span>}</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>

  <span>return</span> timer<span>;</span>
<span>}</span>
</code></pre></div>
<p>I hope you're now convinced that hooks are really powerful and highly composable. Let's see the final use case now.</p>
<h4 id="user-content-when-a-prop-is-updated-1"><a href="#when-a-prop-is-updated-1" aria-hidden="true" tabindex="-1"><span>üîó </span></a>When a prop is updated</h4>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span>props<span>)</span> <span>{</span>
  <span>const</span> <span>[</span>results<span>,</span> setResults<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>[</span><span>]</span><span>)</span><span>;</span>
  <span>const</span> <span>[</span>loading<span>,</span> setLoading<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>true</span><span>)</span><span>;</span>

  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>
    <span>setLoading</span><span>(</span><span>true</span><span>)</span><span>;</span>
    <span>getResults</span><span>(</span>props<span>.</span><span>query</span><span>)</span><span>.</span><span>then</span><span>(</span><span>(</span>results<span>)</span> <span>=></span> <span>{</span>
      <span>setResults</span><span>(</span>results<span>)</span><span>;</span>
      <span>setLoading</span><span>(</span><span>false</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
  <span>}</span><span>,</span> <span>[</span>props<span>.</span><span>query</span><span>]</span><span>)</span><span>;</span>

  <span>if</span> <span>(</span>loading<span>)</span> <span>return</span> <span>"Getting your results..."</span><span>;</span>

  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span>{</span>results<span>.</span><span>map</span><span>(</span><span>(</span>result<span>)</span> <span>=></span> <span>(</span>
        <span><span><span>&#x3C;</span><span>SearchResult</span></span> <span>result</span><span><span>=</span><span>{</span>result<span>}</span></span> <span>key</span><span><span>=</span><span>{</span>result<span>.</span><span>id</span><span>}</span></span> <span>/></span></span>
      <span>)</span><span>)</span><span>}</span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>You can see how just with one <code>useEffect</code> we can handle both mounting and updating stages. This makes our code less verbose and more declarative. Unlike class example, we're really asking react to get results whenever query updates.</p>
<p>You might have observed how I've not used <code>async/await</code> syntax within a <code>useEffect</code> yet. It's because the <code>CallbackType</code> isn't an <code>async</code> function and it's expecting a callback in return, not a promise. If you really want to use async await syntax, you should try doing this:</p>
<div><pre><code><span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>
  <span>const</span> <span>fetchResults</span> <span>=</span> <span>async</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>
    <span>setLoading</span><span>(</span><span>true</span><span>)</span><span>;</span>
    <span>const</span> results <span>=</span> <span>await</span> <span>getResults</span><span>(</span>props<span>.</span><span>query</span><span>)</span><span>;</span>
    <span>setResults</span><span>(</span>results<span>)</span><span>;</span>
    <span>setLoading</span><span>(</span><span>false</span><span>)</span><span>;</span>
  <span>}</span><span>;</span>
  <span>fetchResults</span><span>(</span><span>)</span><span>;</span>
<span>}</span><span>,</span> <span>[</span>props<span>.</span><span>query</span><span>]</span><span>)</span><span>;</span>
</code></pre></div>
<p>Now that we've seen enough hooks code, I think it's time to go through the <em><a href="https://reactjs.org/docs/hooks-rules.html">Rules of Hooks</a>.</em> Yes, they seem to be magical, but there are some rules that we need to follow to ensure React doesn't end up minimizing into a point of singularity and breaking the universe as we know it.</p>
<ol>
<li>Hooks must be only called from a React Functional Component or a custom hook.
You can't use it in a normal business logic function, or a class based component.</li>
<li>Hooks must be at top level of wherever it's being called from.
Basically, you can't use a hook inside a condition or loop.</li>
</ol>
<p>Go through the <a href="https://reactjs.org/docs/hooks-rules.html#explanation">documentation</a> to understand more about this.</p>
<h3 id="user-content-styling"><a href="#styling" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Styling</h3>
<p>So far you might have this <code>style</code> prop used on various components with an object with style related values in it.</p>
<div><pre><code><span><span><span>&#x3C;</span>h1</span> <span>style</span><span><span>=</span><span>{</span><span>{</span> color<span>:</span> <span>"red"</span><span>,</span> backgroundColor<span>:</span> <span>"blue"</span><span>,</span> marginRight<span>:</span> <span>10</span> <span>}</span><span>}</span></span><span>></span></span><span><span><span>&#x3C;/</span>h1</span><span>></span></span>
</code></pre></div>
<p>These are actually CSS style <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference#Keyword_index">rules</a> that React accepts for base components. Rules that have a hyphen are camel cased. So <code>margin-right</code> becomes <code>marginRight</code>. Also, you can pass numbers wherever applicable, <code>px</code> unit would be taken for those. So <code>marginRight: 10</code> is same as <code>margin-right: 10px;</code></p>
<p><strong>Note:</strong> Unlike CSS you can't define <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes">pseudo classes</a> like <code>:hover</code> or <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements">pseudo elements</a> like <code>::after</code>. You can achieve that by defining a CSS class outside of React and using it as <code>className</code> or using CSS-in-JS libraries like <a href="https://styled-components.com/">styled-components</a>.</p>
<h2 id="user-content-react-native"><a href="#react-native" aria-hidden="true" tabindex="-1"><span>üîó </span></a>React Native</h2>
<p>Now that we've covered most of the basic fundamentals of ReactJS, let's see how <a href="https://reactnative.dev/">React Native</a> is different. In all our above examples, we're actually using ReactJS along with <a href="https://reactjs.org/docs/react-dom.html">ReactDOM</a>. It's the driver that knows what to do when we write a heading like follows.</p>
<div><pre><code><span><span><span>&#x3C;</span>h1</span> <span>style</span><span><span>=</span><span>{</span><span>{</span> color<span>:</span> <span>"red"</span> <span>}</span><span>}</span></span><span>></span></span><span>Hello</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span>
</code></pre></div>
<p>It converts the <code>h1</code> to respective HTML <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction">DOM</a> element, and applies the styling to it. So we can see that ReactJS (class components, state, lifecycle, props, composability, hooks etc.) is actually host platform agnostic. It can run on any platform as long as you provide a driver for the same. On Native platforms, <a href="https://reactnative.dev/">react-native</a> does that. You can image that we can't use <code>h1</code> and the like on native as they don't understand HTML. Instead, we've things like <code>TextView</code> on Android and <code>UITextView</code> on iOS and so on for all native UI elements. The driver takes care of mapping a <code>&#x3C;View style={{backgroundColor: 'red'}}>&#x3C;/View></code> into a <code>UIView</code> object with background property set as "red" for iOS, likewise for Android.</p>
<p><img src="https://reactnative.dev/docs/assets/diagram_ios-android-views.svg" alt="https://reactnative.dev/docs/assets/diagram_ios-android-views.svg"></p>
<p>So apart from using components like <code>View</code> <code>Text</code> <code>TextInput</code> <code>Image</code> etc in place of <code>div</code> <code>span</code> <code>input</code> <code>img</code> (respectively), the fundamentals remain the same. There's one more difference however, and that is styling:</p>
<ul>
<li>Just like native platforms don't understand HTML, they don't understand CSS either. Authors of React Native made <a href="https://yogalayout.com/docs">Yoga</a> a <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Flexbox">flexbox</a> implementation along with a CSS rule subset to native styling translation layer for native platforms.</li>
<li>Another thing is that unlike HTML where you can basically create any sort of hierarchy of elements, even if it doesn't make sense, React Native is more strict. Strings are only accepted by <code>&#x3C;Text/></code> and you can't place strings inside a <code>&#x3C;View /></code>, similarly rules around text (color, fontSize etc) don't have any effect on a <code>&#x3C;View /></code>. You need to assign it to the <code>&#x3C;Text /></code> directly.</li>
<li>Also the API of <code>style</code> prop is slightly different. We'll cover it next.</li>
</ul>
<h3 id="user-content-react-native-styling"><a href="#react-native-styling" aria-hidden="true" tabindex="-1"><span>üîó </span></a>React Native Styling</h3>
<p>Unlike <a href="https://reactjs.org/docs/react-dom.html">react-dom</a>, <code>style</code> prop is slightly different in the sense that it also accepts an array. It can also accept object created by <code>StyleSheet.create</code></p>
<div><pre><code><span>// react-dom</span>
<span><span><span>&#x3C;</span>div</span> <span>style</span><span><span>=</span><span>{</span><span>{</span>margin<span>:</span> <span>10</span><span>,</span> backgroundColor<span>:</span> <span>'red'</span><span>}</span><span>}</span></span> <span>/></span></span>

<span>// react-native</span>
<span><span><span>&#x3C;</span><span>View</span></span> <span>style</span><span><span>=</span><span>{</span><span>{</span>margin<span>:</span> <span>10</span><span>,</span> backgroundColor<span>:</span> <span>'red'</span><span>}</span><span>}</span></span> <span>/></span></span>
<span>// or</span>
<span><span><span>&#x3C;</span><span>View</span></span> <span>style</span><span><span>=</span><span>{</span><span>[</span><span>{</span>margin<span>:</span> <span>10</span><span>}</span><span>,</span> <span>{</span>backgroundColor<span>:</span> <span>'red'</span><span>}</span><span>]</span><span>}</span></span> <span>/></span></span>
<span>// or</span>
<span>const</span> styles <span>=</span> <span>StyleSheet</span><span>.</span><span>create</span><span>(</span><span>{</span>
  container<span>:</span> <span>{</span>margin<span>:</span> <span>10</span><span>,</span> backgroundColor<span>:</span> <span>'red'</span><span>}</span>
<span>}</span><span>)</span>
<span><span><span>&#x3C;</span><span>View</span></span> <span>style</span><span><span>=</span><span>{</span>styles<span>.</span><span>container</span><span>}</span></span> <span>/></span></span>
</code></pre></div>
<h3 id="user-content-react-native-web"><a href="#react-native-web" aria-hidden="true" tabindex="-1"><span>üîó </span></a>React Native Web</h3>
<p>We've come full circle with <a href="https://necolas.github.io/react-native-web/docs/?path=/docs/overview-getting-started--page">React Native Web</a>, which is basically a component library that has same API as <code>react-native</code> but is implemented with <code>react-dom</code> in mind. A view in <code>react-native-web</code> is essentially a <code>&#x3C;div /></code> . This might seem futile, however the power is that you can now write your code in React Native, and use it on web using <code>react-native-web</code>.</p>
<h2 id="user-content-advanced-patterns"><a href="#advanced-patterns" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Advanced Patterns</h2>
<p>These are now not as important with advent of hooks, however it's still important once in a while in your daily job. You can ignore these for now and comeback later whenever you encounter one.</p>
<h3 id="user-content-higher-order-components"><a href="#higher-order-components" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Higher Order Components</h3>
<p>Just like Higher Order Functions can accept a function and return a new one, High Order Components are functions that accept a component and return a new one. This can be used as a way to decorate a particular component with extra behavior.</p>
<p>Suppose we want to show a loader if <code>loading</code> prop is true, but we don't want to write this code for all components. We can create a <code>withLoader</code> higher order component to solve this.</p>
<div><pre><code><span>function</span> <span>withLoader</span><span>(</span><span>Component</span><span>)</span> <span>{</span>
  <span>return</span> <span>function</span> <span>LoaderContainer</span><span>(</span>props<span>)</span> <span>{</span>
    <span>if</span> <span>(</span>props<span>.</span><span>loading</span><span>)</span> <span>return</span> <span><span><span>&#x3C;</span><span>Loader</span></span> <span>/></span></span><span>;</span>
    <span>return</span> <span><span><span>&#x3C;</span><span>Component</span></span> <span><span>{</span><span>...</span>props<span>}</span></span> <span>/></span></span><span>;</span>
  <span>}</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>Now we can wrap our components with <code>withLoader</code> whenever we want to add this behavior.</p>
<div><pre><code><span>// UserPage.js</span>
<span>class</span> <span>UserPage</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  <span>...</span>
<span>}</span>

<span>export</span> <span>default</span> <span>withLoader</span><span>(</span><span>UserPage</span><span>)</span><span>;</span>

<span>// Home.js</span>
<span>function</span> <span>Home</span> <span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>loading<span>,</span> data<span>]</span> <span>=</span> <span>useUser</span><span>(</span><span>)</span><span>;</span>

  <span>return</span> <span><span><span>&#x3C;</span><span>UserPage</span></span> <span>loading</span><span><span>=</span><span>{</span>loading<span>}</span></span> <span>data</span><span><span>=</span><span>{</span>data<span>}</span></span> <span>/></span></span><span>;</span>
<span>}</span>
</code></pre></div>
<p>Multiple such HOCs can be used to add behavior. <a href="https://react-redux.js.org/api/connect">react-redux</a> actually exposes one popular HOC <code>connect</code> that lets you connect to the <a href="https://redux.js.org/">redux</a> store.</p>
<p>There are some caveats though:</p>
<ul>
<li>Our React tree will now have a <code>LoaderContainer</code> above each component using this HOC.</li>
<li>We can't add this behavior dynamically or conditionally, at build time we make the choice either to wrap a component in an HOC or not.</li>
<li>Passing a <a href="https://reactjs.org/docs/refs-and-the-dom.html">ref</a> won't give us <a href="https://reactjs.org/docs/refs-and-the-dom.html">ref</a> of our <code>Component</code>, but rather of <code>LoaderContainer</code>. To mitigate this most developers usually manually connect a <code>innerRef</code> prop to the inner component.</li>
</ul>
<div><pre><code><span>function</span> <span>withLoader</span><span>(</span><span>Component</span><span>)</span> <span>{</span>
  <span>return</span> <span>function</span> <span>LoaderContainer</span><span>(</span><span>{</span> innerRef<span>,</span> <span>...</span>props <span>}</span><span>)</span> <span>{</span>
    <span>if</span> <span>(</span>props<span>.</span><span>loading</span><span>)</span> <span>return</span> <span><span><span>&#x3C;</span><span>Loader</span></span> <span>/></span></span><span>;</span>
    <span>return</span> <span><span><span>&#x3C;</span><span>Component</span></span> <span>ref</span><span><span>=</span><span>{</span>innerRef<span>}</span></span> <span><span>{</span><span>...</span>props<span>}</span></span> <span>/></span></span><span>;</span>
  <span>}</span><span>;</span>
<span>}</span>
</code></pre></div>
<ul>
<li>The static fields on the component won't be accessible from the enhanced component. Suppose <code>UserPage</code> has a <code>MODES</code> field so that you can choose which mode of <code>UserPage</code> you want to render. To mitigate this, you can <a href="https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over">hoist</a> the <a href="https://github.com/mridgway/hoist-non-react-statics">non-react statics</a>.</li>
</ul>
<div><pre><code><span>// UserPage.js</span>
<span>class</span> <span>UserPage</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  <span>...</span>
  <span>static</span> <span>MODES</span> <span>=</span> <span>{</span><span>LITE</span><span>:</span> <span>0</span><span>,</span> <span>NORMAL</span><span>:</span> <span>1</span><span>}</span><span>;</span>
<span>}</span>

<span>export</span> <span>default</span> <span>withLoader</span><span>(</span><span>UserPage</span><span>)</span><span>;</span>

<span>// Home.js</span>
<span>function</span> <span>Home</span> <span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>loading<span>,</span> data<span>]</span> <span>=</span> <span>useUser</span><span>(</span><span>)</span><span>;</span>

  <span>// ‚ùå Won't work as withLoader doesn't expose the MODES static field.</span>
  <span>return</span> <span><span><span>&#x3C;</span><span>UserPage</span></span> <span>mode</span><span><span>=</span><span>{</span><span>UserPage</span><span>.</span><span>MODES</span><span>.</span><span>LITE</span><span>}</span></span> <span>loading</span><span><span>=</span><span>{</span>loading<span>}</span></span> <span>data</span><span><span>=</span><span>{</span>data<span>}</span></span> <span>/></span></span><span>;</span>
<span>}</span>
</code></pre></div>
<h3 id="user-content-render-props"><a href="#render-props" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Render props</h3>
<p>While HOCs are highly powerful, they have a lot of caveats that Render Props attempt to solve. Render props are just a fancy name given to a pattern in which makes use of the fact that <code>children</code> field (or any prop for that matter) of a component can actually be a function. Using this, we can put behavior in our Render Prop accepting Component and use it like any other React Component. This is in a way inversion of control, where you decide what you want to render. For an example, let's modify the first class based example of loading data on component load. This helps us extract the behavior out of our initial example and lets us reuse that logic wherever we want.</p>
<div><pre><code><span>class</span> <span>UserDataFetcher</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  state <span>=</span> <span>{</span>loading<span>:</span> <span>true</span><span>,</span> data<span>:</span> <span>null</span><span>}</span>

  <span>async</span> <span>componentDidMount</span> <span>(</span><span>)</span> <span>{</span>
    <span>const</span> data <span>=</span> <span>await</span> <span>callApi</span><span>(</span><span>)</span><span>;</span>
    <span>this</span><span>.</span><span>setState</span><span>(</span><span>{</span>data<span>,</span> loading<span>:</span> <span>false</span><span>}</span><span>)</span><span>;</span>
  <span>}</span>

  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>const</span> <span>{</span>loading<span>,</span> data<span>}</span> <span>=</span> <span>this</span><span>.</span><span>state</span><span>;</span>
    <span>return</span> <span>this</span><span>.</span><span>props</span><span>.</span><span>children</span><span>(</span>loading<span>,</span> data<span>)</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>function</span> <span>App</span> <span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span><span>UserDataFetcher</span></span><span>></span></span><span>{</span><span>(</span>loading<span>,</span> data<span>)</span> <span>=></span> <span>{</span>
    <span>return</span> <span><span><span>&#x3C;</span><span>UserPage</span></span> <span>loading</span><span><span>=</span><span>{</span>loading<span>}</span></span> <span>data</span><span><span>=</span><span>{</span>data<span>}</span></span> <span>/></span></span>
   <span>}</span><span>}</span><span><span><span>&#x3C;/</span><span>WithUserData</span></span><span>></span></span><span></span>
<span>}</span>
</code></pre></div>
<p>I guess you can see why this was so powerful in pre-hooks era.</p>
<h2 id="user-content-optimizations"><a href="#optimizations" aria-hidden="true" tabindex="-1"><span>üîó </span></a>Optimizations</h2>
<p>While React's internal architecture ensures app performance stays top-notch, there are some optimizations we can use to reduce load on user's system by avoiding large re-renders. See, each time reference of state or props of a component changes, React would re-render the component. This is how we achieve reactivity. However, React by default will make no checks and assumptions to see if the update prop or state is actually same as before.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>version</span><span><span>=</span><span>"</span>1<span>"</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>const</span> <span>Library</span> <span>=</span> <span>(</span><span>{</span> version <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>;</span>
</code></pre></div>
<p>Whenever <code>count</code> state variable updates in <code>MyComponent</code>, <code>MyComponent</code> would re-render. And since it re-renders, it'll cause <code>Library</code> to re-render as well. React wouldn't check if version has actually changed or not. If you wish to avoid a re-render of <code>Library</code>, you can use <code>React.memo</code></p>
<h3 id="user-content-reactmemo"><a href="#reactmemo" aria-hidden="true" tabindex="-1"><span>üîó </span></a>React.memo</h3>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>version</span><span><span>=</span><span>"</span>1<span>"</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span><span>(</span><span>{</span> version <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre></div>
<p><code>React.memo</code> will see if props passed to a functional component have been updated or not. It loops through all the keys in previous props and next props, and sees if they're referential-ly equal to each other. It accepts a second argument as well to explicit perform this check.</p>
<div><pre><code><span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span>
  <span>(</span><span>{</span> version <span>}</span><span>)</span> <span>=></span> <span>{</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span><span>,</span>
  <span>(</span>prevProps<span>,</span> nextProps<span>)</span> <span>=></span> prevProps<span>.</span><span>version</span> <span>===</span> nextProps<span>.</span><span>version</span>
<span>)</span><span>;</span>
</code></pre></div>
<p>Here we are telling <code>React.memo</code> that consider props to be equal if the 2nd argument returns <code>true</code>. So the function is anwering the question <code>are props the same?</code></p>
<p>One thing to note is that <code>React.memo</code> checks for reference updates and not value update. The "reference" to any variable may change even though the "value" remains same.</p>
<div><pre><code><span>let</span> a <span>=</span> <span>{</span> <span>version</span><span>:</span> <span>1</span> <span>}</span><span>;</span>

a <span>=</span> <span>{</span> <span>version</span><span>:</span> <span>1</span> <span>}</span><span>;</span>
</code></pre></div>
<p>In the above code, by virtue of re-assignment, we've caused the reference of <code>a</code> to change, even though the value is identical. React doesn't care for the value, but the reference. This is why we can't mutate variables as React wouldn't be able to tell whether it has been updated or not. And such reassignments can happen a lot of times! Let's consider the following example now.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>const</span> libraryData <span>=</span> <span>{</span> version<span>:</span> <span>"1"</span> <span>}</span><span>;</span>
  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>data</span><span><span>=</span><span>{</span>libraryData<span>}</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>const</span> <span>Library</span> <span>=</span> <span>(</span><span>{</span> data<span>:</span> <span>{</span> version <span>}</span> <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>;</span>
</code></pre></div>
<p>Just like before, whenever the <code>count</code> state variable updates, <code>MyComponent</code> would re-render, due to which <code>Library</code> would re-render too. Even if we apply <code>React.memo</code> like before, it wouldn't help in this particular case.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>const</span> libraryData <span>=</span> <span>{</span> version<span>:</span> <span>"1"</span> <span>}</span><span>;</span>
  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>data</span><span><span>=</span><span>{</span>libraryData<span>}</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// ‚ùå Wouldn't work as reference of libraryData changes on each render</span>
<span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span><span>(</span><span>{</span> data<span>:</span> <span>{</span> version <span>}</span> <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre></div>
<p>The reason for this is that we've passed an object literal, which would be created each time <code>MyComponent</code> updates. Same is true for functions that are created in-line.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>const</span> <span>onClick</span> <span>=</span> <span>(</span><span>)</span> <span>=></span> <span>alert</span><span>(</span><span>"You clicked!"</span><span>)</span><span>;</span>

  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>version</span><span><span>=</span><span>"</span>1<span>"</span></span> <span>onClick</span><span><span>=</span><span>{</span>onClick<span>}</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// ‚ùå Wouldn't work as reference of onClick changes on each render</span>
<span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span><span>(</span><span>{</span> version<span>,</span> onClick <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span> <span>onClick</span><span><span>=</span><span>{</span>onClick<span>}</span></span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre></div>
<p>Each time <code>MyComponent</code> updates, a new function is created for <code>onClick</code> prop of <code>Library</code>. This can be fixed by some of the following techniques:</p>
<ol>
<li>Moving the said object/function outside of render of <code>MyComponent</code></li>
<li>Somehow memozing the value between renders.</li>
<li>Updating the checks performed by <code>React.memo</code> to compare the value and not just reference.</li>
</ol>
<p>For the first method, we can just move the object to global scope. This way the reference never changes.</p>
<div><pre><code><span>const</span> libraryData <span>=</span> <span>{</span> version<span>:</span> <span>"1"</span> <span>}</span><span>;</span>

<span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>data</span><span><span>=</span><span>{</span>libraryData<span>}</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// ‚úÖ Works as reference of libraryData doesn't change</span>
<span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span><span>(</span><span>{</span> data<span>:</span> <span>{</span> version <span>}</span> <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre></div>
<h4 id="user-content-usememo--usecallback"><a href="#usememo--usecallback" aria-hidden="true" tabindex="-1"><span>üîó </span></a>useMemo &#x26; useCallback</h4>
<p>Or you could update the way <code>Library</code> accepts version. Notice how earlier we were simply passing version as a prop instead of keeping it inside a data prop. Since reference to strings &#x26; numbers don't change, our usage of <code>React.memo</code> would work as expected. The insight here is that you can design the way your component accepts props to avoid such pit-falls of referential equality checks. But this might not work always as your data needs might be different.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>version</span><span><span>=</span><span>"</span>1<span>"</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// ‚úÖ Works as reference of strings doesn't change</span>
<span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span><span>(</span><span>{</span> version <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre></div>
<p>Second method can help in that case. To memoize the value, in functional components we can use advanced hooks like <code>React.useMemo</code> &#x26; <code>React.useCallback</code>. Suppose we really need to pass <code>version</code> as a data object. We can ask React to memoize it between renders using <code>useMemo</code>. The second argument is a dependency array, just like <code>useEffect</code>. So here we are telling React to recompute <code>libraryData</code> whenver any item in the array passed as second argument changes. Empty array implies on component mount. So this way we can preserve the reference to <code>libraryData</code></p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>const</span> libraryData <span>=</span> <span>useMemo</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>(</span><span>{</span> version<span>:</span> <span>1</span> <span>}</span><span>)</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>

  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>data</span><span><span>=</span><span>{</span>libraryData<span>}</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// ‚úÖ Works as reference of libraryData is now memoized.</span>
<span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span><span>(</span><span>{</span> data<span>:</span> <span>{</span> version <span>}</span> <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre></div>
<p><code>useCallback</code> is similar to <code>useMemo</code>, just that it returns a callable function instead. We can use this for functions.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>const</span> onClick <span>=</span> <span>useCallback</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>alert</span><span>(</span><span>"You clicked!"</span><span>)</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>

  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>version</span><span><span>=</span><span>"</span>1<span>"</span></span> <span>onClick</span><span><span>=</span><span>{</span>onClick<span>}</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// ‚úÖ Works as reference of onClick is now memoized.</span>
<span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span><span>(</span><span>{</span> version<span>,</span> onClick <span>}</span><span>)</span> <span>=></span> <span>{</span>
  <span>return</span> <span><span><span>&#x3C;</span>h1</span> <span>onClick</span><span><span>=</span><span>{</span>onClick<span>}</span></span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre></div>
<p>In fact, you can implement <code>useCallback</code> using <code>useMemo</code> as the latter works for any type of value.</p>
<div><pre><code><span>const</span> <span>useCallback</span> <span>=</span> <span>(</span>fn<span>,</span> dependencyArray<span>)</span> <span>=></span> <span>useMemo</span><span>(</span><span>(</span><span>)</span> <span>=></span> fn<span>,</span> dependencyArray<span>)</span><span>;</span>
</code></pre></div>
<p>The last method is to just change the way <code>React.memo</code> performs the check. Though this can go pretty nasty as the number of props increase and nesting of the keys increase. And there's no neat way to do it for functions.</p>
<div><pre><code><span>function</span> <span>MyComponent</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>const</span> libraryData <span>=</span> <span>{</span> version<span>:</span> <span>"1"</span> <span>}</span><span>;</span>
  <span>return</span> <span>(</span>
    <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span>button</span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>setCount</span><span>(</span><span>(</span>c<span>)</span> <span>=></span> c <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>></span></span><span>{</span>count<span>}</span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>      </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>data</span><span><span>=</span><span>{</span>libraryData<span>}</span></span> <span>/></span></span><span></span>
<span>    </span><span><span><span>&#x3C;/</span></span><span>></span></span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// ‚úÖ Works as we're now comparing individual key of object</span>
<span>const</span> <span>Library</span> <span>=</span> <span>React</span><span>.</span><span>memo</span><span>(</span>
  <span>(</span><span>{</span> data<span>:</span> <span>{</span> version <span>}</span> <span>}</span><span>)</span> <span>=></span> <span>{</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span><span>,</span>
  <span>(</span>prevProps<span>,</span> nextProps<span>)</span> <span>=></span> prevProps<span>.</span><span>data</span><span>.</span><span>version</span> <span>!==</span> nextProps<span>.</span><span>data</span><span>.</span><span>version</span>
<span>)</span><span>;</span>
</code></pre></div>
<p><strong>NOTE:</strong> These are advanced optimizations and you should use them only if you've an actual performance regression. More often than not, the extra work done in these optimizations might give very little gains with the cost of code complexity and potential to introduce bugs. Each memoization technique described here requries extra computation (<code>React.memo</code> loops throught all props and checks their reference change), memory usage (To memoize is to store data) between renders, so the benefit would only come if the value you're trying to memozie is too expensive to calculate (some highly complicated data manipulation on an array of 1000 items) or the component you're planning to prevent re-renders for has a complicated deeply nested UI to render. In above cases it makes no sense as <code>&#x3C;h1 /></code> is fairly simple component and <code>libraryData</code> is a very small object. So unless you have a performance problem caused by re-renders, you shouldn't wrap variables in <code>useMemo</code> and components in <code>React.memo</code></p>
<h3 id="user-content-reactpurecomponent"><a href="#reactpurecomponent" aria-hidden="true" tabindex="-1"><span>üîó </span></a>React.PureComponent</h3>
<p><code>React.memo</code> and the hooks like <code>useMemo</code> and <code>useCallback</code> only work for functional components. What about class components?</p>
<p>Let's first take our above example to a class-y world.</p>
<div><pre><code><span>class</span> <span>MyComponent</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  state <span>=</span> <span>{</span> count<span>:</span> <span>0</span> <span>}</span><span>;</span>

  <span>render</span> <span>(</span><span>)</span> <span>{</span>
   <span>const</span> libraryData <span>=</span> <span>{</span> version<span>:</span> <span>"1"</span> <span>}</span><span>;</span>
    <span>return</span> <span>(</span>
      <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>        </span><span><span><span>&#x3C;</span>button</span>
          <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>this</span><span>.</span><span>setState</span><span>(</span>s <span>=></span> <span>(</span><span>{</span> count<span>:</span> s<span>.</span><span>count</span> <span>+</span> <span>1</span> <span>}</span><span>)</span><span>}</span></span>
        <span>></span></span><span></span>
<span>          </span><span>{</span>count<span>}</span><span></span>
<span>        </span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>        </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>data</span><span><span>=</span><span>{</span>libraryData<span>}</span></span> <span>/></span></span><span></span>
<span>      </span><span><span><span>&#x3C;/</span></span><span>></span></span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>class</span> <span>Library</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  <span>render</span> <span>(</span><span>)</span> <span>{</span>
    <span>const</span> <span>{</span> version <span>}</span> <span>=</span> <span>this</span><span>.</span><span>props</span><span>.</span><span>data</span><span>;</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span>
<span>)</span><span>;</span>
</code></pre></div>
<p>Class based components have access to a life cycle method <code>shouldComponentUpdate</code>. We can guess from the name that it's similar to the second argument of <code>React.memo</code> above.</p>
<div><pre><code><span>class</span> <span>MyComponent</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  state <span>=</span> <span>{</span> count<span>:</span> <span>0</span> <span>}</span><span>;</span>

  <span>render</span> <span>(</span><span>)</span> <span>{</span>
   <span>const</span> libraryData <span>=</span> <span>{</span> version<span>:</span> <span>"1"</span> <span>}</span><span>;</span>
    <span>return</span> <span>(</span>
      <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>        </span><span><span><span>&#x3C;</span>button</span>
          <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>this</span><span>.</span><span>setState</span><span>(</span>s <span>=></span> <span>(</span><span>{</span> count<span>:</span> s<span>.</span><span>count</span> <span>+</span> <span>1</span> <span>}</span><span>)</span><span>}</span></span>
        <span>></span></span><span></span>
<span>          </span><span>{</span>count<span>}</span><span></span>
<span>        </span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>        </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>data</span><span><span>=</span><span>{</span>libraryData<span>}</span></span> <span>/></span></span><span></span>
<span>      </span><span><span><span>&#x3C;/</span></span><span>></span></span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>class</span> <span>Library</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  <span>shouldComponentUpdate</span><span>(</span>nextProps<span>,</span> nextState<span>)</span> <span>{</span>
    <span>return</span> <span>this</span><span>.</span><span>props</span><span>.</span><span>data</span><span>.</span><span>version</span> <span>!==</span> nextProps<span>.</span><span>data</span><span>.</span><span>version</span><span>;</span>
  <span>}</span>
  <span>render</span> <span>(</span><span>)</span> <span>{</span>
    <span>const</span> <span>{</span> version <span>}</span> <span>=</span> <span>this</span><span>.</span><span>props</span><span>.</span><span>data</span><span>;</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span>
<span>)</span><span>;</span>
</code></pre></div>
<p>It's different in two ways than <code>React.memo</code>. Firstly, it has access to <code>nextState</code> so we can add checks for state changes. This can be helpful if a key in <code>this.state</code> is an object or function and you can't determine whether a state update is needed whenever you set it. Secondly, it is expecting answer to <code>should component update?</code> and not <code>are props the same?</code>. Other than that it's pretty much the same. You can imagine writing it by hand and having a dozen of checks for a large component can be tedious and error-prone. If only we had a default behaviour of <code>React.memo</code> for classes. Enter <code>React.PureComponent</code></p>
<p>Just like <code>React.Component</code>, <code>React.PureComponent</code> is another class you can extend from to create your component. It behaves just like a regular component, but has a <code>shouldComponentUpdate</code> lifecycle method implemented for you.</p>
<div><pre><code><span>class</span> <span>MyComponent</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  state <span>=</span> <span>{</span> count<span>:</span> <span>0</span> <span>}</span><span>;</span>

  <span>render</span> <span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>(</span>
      <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>        </span><span><span><span>&#x3C;</span>button</span>
          <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>this</span><span>.</span><span>setState</span><span>(</span>s <span>=></span> <span>(</span><span>{</span> count<span>:</span> s<span>.</span><span>count</span> <span>+</span> <span>1</span> <span>}</span><span>)</span><span>}</span></span>
        <span>></span></span><span></span>
<span>          </span><span>{</span>count<span>}</span><span></span>
<span>        </span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>        </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>version</span><span><span>=</span><span>"</span>1<span>"</span></span> <span>/></span></span><span></span>
<span>      </span><span><span><span>&#x3C;/</span></span><span>></span></span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>// ‚úÖ Works as reference of this.props.version doesn't change as it's a string</span>
<span>class</span> <span>Library</span> <span>extends</span> <span>React</span><span>.</span><span><span>PureComponent</span></span> <span>{</span>
  <span>render</span> <span>(</span><span>)</span> <span>{</span>
    <span>const</span> <span>{</span> version <span>}</span> <span>=</span> <span>this</span><span>.</span><span>props</span><span>;</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span>
<span>)</span><span>;</span>
</code></pre></div>
<p>And just like <code>React.memo</code> it would fail if the said prop is an object or function that updates in each render. However, we don't really have a simple way to memoize these variables like <code>useMemo</code>. You can instead define a class property to move it out of scope render method.</p>
<div><pre><code><span>class</span> <span>MyComponent</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  state <span>=</span> <span>{</span> count<span>:</span> <span>0</span> <span>}</span><span>;</span>

  libraryData <span>=</span> <span>{</span> version<span>:</span> <span>"1"</span> <span>}</span><span>;</span>

  <span>render</span> <span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>(</span>
      <span><span><span>&#x3C;</span></span><span>></span></span><span></span>
<span>        </span><span><span><span>&#x3C;</span>button</span>
          <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=></span> <span>this</span><span>.</span><span>setState</span><span>(</span>s <span>=></span> <span>(</span><span>{</span> count<span>:</span> s<span>.</span><span>count</span> <span>+</span> <span>1</span> <span>}</span><span>)</span><span>}</span></span>
        <span>></span></span><span></span>
<span>          </span><span>{</span>count<span>}</span><span></span>
<span>        </span><span><span><span>&#x3C;/</span>button</span><span>></span></span><span></span>
<span>        </span><span><span><span>&#x3C;</span><span>Library</span></span> <span>data</span><span><span>=</span><span>{</span><span>this</span><span>.</span><span>libraryData</span><span>}</span></span> <span>/></span></span><span></span>
<span>      </span><span><span><span>&#x3C;/</span></span><span>></span></span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>class</span> <span>Library</span> <span>extends</span> <span>React</span><span>.</span><span><span>Component</span></span> <span>{</span>
  <span>render</span> <span>(</span><span>)</span> <span>{</span>
    <span>const</span> <span>{</span> version <span>}</span> <span>=</span> <span>this</span><span>.</span><span>props</span><span>.</span><span>data</span><span>;</span>
    <span>return</span> <span><span><span>&#x3C;</span>h1</span><span>></span></span><span>The library version is </span><span>{</span>version<span>}</span><span><span><span>&#x3C;/</span>h1</span><span>></span></span><span>;</span>
  <span>}</span>
<span>)</span><span>;</span>
</code></pre></div>
<p><strong>NOTE:</strong> Writing <code>shouldComponentUpdate</code> by hand can cause more harm if a bug in logic prevents component from re-rendering. Relying on <code>PureComponent</code> is preferred, however if the component is simple, a re-render might be as good as comparison checks before render.</p>
</div><footer style="border-top:1px solid black;margin-top:48px;padding-top:24px;padding-bottom:24px"><section style="display:flex;justify-content:space-between;align-items:center"><div>Like the article?</div><div>[<a href="https://github.com/bogas04/bogas04.github.io/blame/main/src/blog/Learning ReactJS in 2020.md" target="_blank">History</a>] [<a href="https://github.com/bogas04/bogas04.github.io/blob/main/src/blog/Learning ReactJS in 2020.md" target="_blank">Edit</a>]</div></section><div style="margin-top:24px"><nav style="display:flex;justify-content:space-between;align-items:center"><a href="https://twitter.com/intent/tweet/?text=My%20take%20on%20introducing%20you%20to%20ReactJS&amp;url=https%3A%2F%2Fbogas04.github.io%2Fblog%2Flearning-reactjs-in-2020-9-14-2020" target="_blank" rel="noopener" aria-label="Tweet" title="Tweet" style="height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:2px solid black;padding:10px;background-color:white;fill:black;stoke:white;transition:0.5s ease-in;opacity:1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm5.26 9.38v.34c0 3.48-2.64 7.5-7.48 7.5-1.48 0-2.87-.44-4.03-1.2 1.37.17 2.77-.2 3.9-1.08-1.16-.02-2.13-.78-2.46-1.83.38.1.8.07 1.17-.03-1.2-.24-2.1-1.3-2.1-2.58v-.05c.35.2.75.32 1.18.33-.7-.47-1.17-1.28-1.17-2.2 0-.47.13-.92.36-1.3C7.94 8.85 9.88 9.9 12.06 10c-.04-.2-.06-.4-.06-.6 0-1.46 1.18-2.63 2.63-2.63.76 0 1.44.3 1.92.82.6-.12 1.95-.27 1.95-.27-.35.53-.72 1.66-1.24 2.04z"></path></svg></a><a href="mailto:?subject=My%20take%20on%20introducing%20you%20to%20ReactJS&amp;body=https%3A%2F%2Fbogas04.github.io%2Fblog%2Flearning-reactjs-in-2020-9-14-2020" target="_self" rel="noopener" aria-label="Mail" title="Mail" style="height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:2px solid black;padding:10px;background-color:white;fill:black;stoke:white;transition:0.5s ease-in;opacity:1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm8 16c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2v8z"></path><path d="M17.9 8.18c-.2-.2-.5-.24-.72-.07L12 12.38 6.82 8.1c-.22-.16-.53-.13-.7.08s-.15.53.06.7l3.62 2.97-3.57 2.23c-.23.14-.3.45-.15.7.1.14.25.22.42.22.1 0 .18-.02.27-.08l3.85-2.4 1.06.87c.1.04.2.1.32.1s.23-.06.32-.1l1.06-.9 3.86 2.4c.08.06.17.1.26.1.17 0 .33-.1.42-.25.15-.24.08-.55-.15-.7l-3.57-2.22 3.62-2.96c.2-.2.24-.5.07-.72z"></path></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fbogas04.github.io%2Fblog%2Flearning-reactjs-in-2020-9-14-2020&amp;title=My%20take%20on%20introducing%20you%20to%20ReactJS&amp;summary=My%20take%20on%20introducing%20you%20to%20ReactJS&amp;source=https%3A%2F%2Fbogas04.github.io%2Fblog%2Flearning-reactjs-in-2020-9-14-2020" target="_blank" rel="noopener" aria-label="Share on LinkedIn" style="height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:2px solid black;padding:10px;background-color:white;fill:black;stoke:white;transition:0.5s ease-in;opacity:1" title="Share on LinkedIn"><svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path d="M12,0C5.383,0,0,5.383,0,12s5.383,12,12,12s12-5.383,12-12S18.617,0,12,0z M9.5,16.5h-2v-7h2V16.5z M8.5,7.5 c-0.553,0-1-0.448-1-1c0-0.552,0.447-1,1-1s1,0.448,1,1C9.5,7.052,9.053,7.5,8.5,7.5z M18.5,16.5h-3V13c0-0.277-0.225-0.5-0.5-0.5 c-0.276,0-0.5,0.223-0.5,0.5v3.5h-3c0,0,0.031-6.478,0-7h3v0.835c0,0,0.457-0.753,1.707-0.753c1.55,0,2.293,1.12,2.293,3.296V16.5z"></path></svg></a><a href="https://reddit.com/submit/?url=https%3A%2F%2Fbogas04.github.io%2Fblog%2Flearning-reactjs-in-2020-9-14-2020&amp;resubmit=true&amp;title=My%20take%20on%20introducing%20you%20to%20ReactJS" target="_blank" rel="noopener" aria-label="Share on Reddit" title="Share on Reddit" style="height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:2px solid black;padding:10px;background-color:white;fill:black;stoke:white;transition:0.5s ease-in;opacity:1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"><circle cx="9.391" cy="13.392" r=".978"></circle><path d="M14.057 15.814c-1.14.66-2.987.655-4.122-.004-.238-.138-.545-.058-.684.182-.13.24-.05.545.19.685.72.417 1.63.646 2.568.646.93 0 1.84-.228 2.558-.642.24-.13.32-.44.185-.68-.14-.24-.445-.32-.683-.18zM5 12.086c0 .41.23.78.568.978.27-.662.735-1.264 1.353-1.774-.2-.207-.48-.334-.79-.334-.62 0-1.13.507-1.13 1.13z"></path><path d="M12 0C5.383 0 0 5.383 0 12s5.383 12 12 12 12-5.383 12-12S18.617 0 12 0zm6.673 14.055c.01.104.022.208.022.314 0 2.61-3.004 4.73-6.695 4.73s-6.695-2.126-6.695-4.74c0-.105.013-.21.022-.313C4.537 13.73 4 12.97 4 12.08c0-1.173.956-2.13 2.13-2.13.63 0 1.218.29 1.618.757 1.04-.607 2.345-.99 3.77-1.063.057-.803.308-2.33 1.388-2.95.633-.366 1.417-.323 2.322.085.302-.81 1.076-1.397 1.99-1.397 1.174 0 2.13.96 2.13 2.13 0 1.177-.956 2.133-2.13 2.133-1.065 0-1.942-.79-2.098-1.81-.734-.4-1.315-.506-1.716-.276-.6.346-.818 1.395-.88 2.087 1.407.08 2.697.46 3.728 1.065.4-.468.987-.756 1.617-.756 1.17 0 2.13.953 2.13 2.13 0 .89-.54 1.65-1.33 1.97z"></path><circle cx="14.609" cy="13.391" r=".978"></circle><path d="M17.87 10.956c-.302 0-.583.128-.79.334.616.51 1.082 1.112 1.352 1.774.34-.197.568-.566.568-.978 0-.623-.507-1.13-1.13-1.13z"></path></svg></a><a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fbogas04.github.io%2Fblog%2Flearning-reactjs-in-2020-9-14-2020&amp;t=My%20take%20on%20introducing%20you%20to%20ReactJS" target="_blank" rel="noopener" title="Share on HackerNews" aria-label="Share on HackerNews" style="height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:2px solid black;padding:10px;background-color:white;fill:black;stoke:white;transition:0.5s ease-in;opacity:1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="24px" height="24px"><path fill-rule="evenodd" d="M128 256c70.692 0 128-57.308 128-128C256 57.308 198.692 0 128 0 57.308 0 0 57.308 0 128c0 70.692 57.308 128 128 128zm-9.06-113.686L75 60h20.08l25.85 52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393 3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618 1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258 1.26-2.585 2.552-5.27 3.877-8.052L161.49 60h18.69l-44.34 83.308v53.087h-16.9v-54.08z"></path></svg></a><a href="https://telegram.me/share/url?text=My%20take%20on%20introducing%20you%20to%20ReactJS&amp;url=https%3A%2F%2Fbogas04.github.io%2Fblog%2Flearning-reactjs-in-2020-9-14-2020" target="_blank" rel="noopener" aria-label="Share on Telegram" title="Share on Telegram" style="height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:2px solid black;padding:10px;background-color:white;fill:black;stoke:white;transition:0.5s ease-in;opacity:1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"><path d="M12 23.5c6.35 0 11.5-5.15 11.5-11.5S18.35.5 12 .5.5 5.65.5 12 5.65 23.5 12 23.5zM2.505 11.053c-.31.118-.505.738-.505.738s.203.62.513.737l3.636 1.355 1.417 4.557a.787.787 0 0 0 1.25.375l2.115-1.72a.29.29 0 0 1 .353-.01L15.1 19.85a.786.786 0 0 0 .746.095.786.786 0 0 0 .487-.573l2.793-13.426a.787.787 0 0 0-1.054-.893l-15.568 6z" fill-rule="evenodd"></path></svg></a></nav></div><div style="margin-top:24px"><div id="disqus_thread"></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Learning ReactJS in 2020","description":"My take on introducing you to ReactJS","date":"2020-09-14T06:02:13.793Z","categories":"[]","keywords":["react","react-native","react-native-web"],"slug":"learning-reactjs-in-2020-9-14-2020","isDraft":false,"image":"/img/blog/reactjs.png","html":"\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e: Working knowledge of JavaScript, ES6 features (classes, arrow functions at least). Here's a \u003ca href=\"/blog/javascript-cheat-sheet-in-2020-9-14-2020\"\u003echeatsheet\u003c/a\u003e for same.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/img/blog/reactjs.png\" alt=\"ReactJS Logo\"\u003e\nScreenshot of official \u003ca href=\"https://reactjs.org\"\u003eReactJS\u003c/a\u003e website.\u003c/p\u003e\n\u003ch2 id=\"user-content-why-do-we-even-need-react\"\u003e\u003ca href=\"#why-do-we-even-need-react\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eWhy do we even need React?\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eEvery frontend application deals with calling APIs, transforming data, listening to user's actions (click, key presses) and updating UI accordingly.\u003c/li\u003e\n\u003cli\u003eAs you have more and more interactable/dynamic elements in your UI, keeping a reference of each element and manually changing it whenever data (let's call it state of application) changes can be cumbersome. It can also be hard to remember to update all elements that are related to one particular state variable.\u003c/li\u003e\n\u003cli\u003eLet's take example of an app like Swiggy. When I click on add item, see how many elements update, and how many calculations are going on.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eNot just that, there are a lot of edge cases that have to be handled. Observe what happens when I try to add item from other restaurant.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eClearly manually updating each state variable and element is invitation to a messy codebase. And we've not yet seen how hard it can be to update UI code.\u003c/li\u003e\n\u003cli\u003eFor something as simple as updating text of any element, we've to do the following. Imagine having id's all over your HTML code and writing code to manually mutate every single field, each time one state variable changes.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// pseudo-ish code, just to illustrate how one might tackle the problem\u003c/span\u003e\n\u003cspan\u003e// with imperative procedural approach\u003c/span\u003e\n\n\u003cspan\u003econst\u003c/span\u003e addToCart \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003edocument\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetElementById\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\"add-to-cart\"\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\naddToCart\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eaddEventListener\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\"click\"\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003ee\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003egetCartRestaurant\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e!==\u003c/span\u003e \u003cspan\u003egetCurrentRestaurant\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003eshowPopup\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\n  e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003etarget\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003einnerText\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003etarget\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003einnerText\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003econst\u003c/span\u003e itemDetails \u003cspan\u003e=\u003c/span\u003e itemStore\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eget\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eaddToCart\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eitemId\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e!\u003c/span\u003e\u003cspan\u003ecartExists\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003eaddCartToUI\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e \u003cspan\u003e// series of commands to build up cart UI\u003c/span\u003e\n    \u003cspan\u003eaddItemToCartUI\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eitemDetails\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e \u003cspan\u003e// series of commands to update cart UI with new itemDetails\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003eaddItemToCartUI\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eitemDetails\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eThis is where React comes handy by abstracting the imperative commands in a declarative API, while also making it reactive to state changes. So whenever our state changes, React will take care of updating the UI as defined by our code.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003eaddItemToCartState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eitemDetails\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eAdd\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e{\u003c/span\u003e\n  cartExists \u003cspan\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eCart\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eitems\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecart\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eitems\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e{\u003c/span\u003e\n  cartExists \u003cspan\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e currentRestaurant \u003cspan\u003e!==\u003c/span\u003e cart\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003erestaurant\u003c/span\u003e \u003cspan\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003ePopup\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eReact takes care of rendering to UI, we just need to make update cart state, the components would react to it naturally. By making reusable components like Cart and Popup, you don't have to duplicate code each time you want to construct UI and behavior around it. Components can naturally compose making it really easy to write code.\u003c/li\u003e\n\u003cli\u003eReact Native is another platform that uses React in its core. All fundamentals of React are ditto same in React Native, with only differences in some APIs and core components provided. The value proposition of React Native is that unlike native apps, you can use single codebase for iOS, Android and Web, while also bypassing App store/Play store for releasing non-native changes (all UI \u0026#x26; business logic majorly). We'll discuss this point later.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"user-content-jsx---the-language-of-react\"\u003e\u003ca href=\"#jsx---the-language-of-react\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eJSX - The language of React\u003c/h2\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eimport\u003c/span\u003e \u003cspan\u003e\u003cspan\u003eReact\u003c/span\u003e\u003c/span\u003e \u003cspan\u003efrom\u003c/span\u003e \u003cspan\u003e\"react\"\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003e\u003cspan\u003ePerson\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e \u003cspan\u003estyle\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e \u003cspan\u003ecolor\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"red\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eprops\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ename\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// is transpiled into\u003c/span\u003e\n\n\u003cspan\u003eimport\u003c/span\u003e \u003cspan\u003e\u003cspan\u003eReact\u003c/span\u003e\u003c/span\u003e \u003cspan\u003efrom\u003c/span\u003e \u003cspan\u003e\"react\"\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003e\u003cspan\u003ePerson\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecreateElement\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\"div\"\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n    \u003cspan\u003enull\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n    \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecreateElement\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\"h1\"\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003estyle\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003ecolor\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"red\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e props\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ename\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eBefore we understand React, we must first take time to understand JSX, the way you describe UI in React Applications. JSX is basically an extension to JavaScript to add support for XML like syntax. While JSX isn't necessary, it does make it much more easy to write code. React's philosophy deviates from traditional template based frameworks (Angular, Vue, Svelte) in the sense that it doesn't mix programming constructs into the template, but rather mixes HTML into JavaScript itself.\u003c/p\u003e\n\u003cp\u003eThis makes writing UI code familiar to HTML, while also having access to entire JavaScript syntax. This IMO reduces a lot of boilerplate and template specific knowledge.\u003c/p\u003e\n\u003cp\u003eNote: A tool like babel or typescript can be used to do this transformation. Note, as it is JSX won't run on browser, it needs to be converted to JavaScript, hence the need of a build tool.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eisActive\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e// is transpiled into\u003c/span\u003e\n\u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecreateElement\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e isActive\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003etrue\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eisActive\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e...\u003c/span\u003eprops\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e// is loosely transpiled into\u003c/span\u003e\n\u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecreateElement\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e isActive\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e...\u003c/span\u003eprops \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2 id=\"user-content-a-react-component\"\u003e\u003ca href=\"#a-react-component\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eA React component\u003c/h2\u003e\n\u003cp\u003eNow that we know how to express UI in a React app efficiently (code readability wise), we can look into an actual React component now.\u003c/p\u003e\n\u003cp\u003eThere are 3 primary parts to a React component. It can have internal state, it can listen to props sent by its parent component, and it can return a sub-tree of UI expressed as JSX.\u003c/p\u003e\n\u003cp\u003eThere are two paradigms you can follow to make a React Component.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eClass based components\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAny class that extends either of \u003ccode\u003eReact.Component\u003c/code\u003e and implements at a bare minimum render method that returns JSX, is a class based component.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// basic example\u003c/span\u003e\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003cspan\u003e.\u003c/span\u003eComponent\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eHello!\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eFunctional components\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAny function that returns JSX is a functional component.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// basic example\u003c/span\u003e\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eHello!\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// smoller plz\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eHello!\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003e// i sed smolllllll\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eHello!\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eAs you can see, functional component seem to be quite simple in their definition. Each component can accept props and can have an internal state. But how do these access props and state?\u003c/p\u003e\n\u003ch3 id=\"user-content-props\"\u003e\u003ca href=\"#props\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eProps\u003c/h3\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// functional component\u003c/span\u003e\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eprops\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003etitle\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// class based component\u003c/span\u003e\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003cspan\u003e.\u003c/span\u003eComponent\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003etitle\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"user-content-state\"\u003e\u003ca href=\"#state\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eState\u003c/h3\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// functional component\u003c/span\u003e\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ecount \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// class based component\u003c/span\u003e\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003cspan\u003e.\u003c/span\u003eComponent\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econstructor\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003esuper\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eprops\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003estate\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003ecount\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e \u003cspan\u003ecount\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003estate\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecount\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// smoller plz\u003c/span\u003e\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003cspan\u003e.\u003c/span\u003eComponent\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003ecount\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e \u003cspan\u003ecount\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003estate\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecount\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThere's fundamental difference in idea of state in a class component and functional component. In a class component, entire state is part of \u003ccode\u003ethis.state\u003c/code\u003e and each state variable would be a key of it. While in functional component, each state variable is created individually by virtue of \u003ccode\u003euseState\u003c/code\u003e, a magical-looking function that somehow remembers current state value between renders, and can differentiate one from another. You can also see how state is tightly coupled to the class (it's directly inside the constructor), while in case of function, it is yet another function call. If say you had 3 state variables, you can group 3 \u003ccode\u003euseState\u003c/code\u003es in one function call and use it. This isn't quite intuitively obvious when we see class based components.\u003c/p\u003e\n\u003cp\u003eOriginally, we only had class based components as the only viable option as only they supported state and other features. However, React introduced concept of \u003ca href=\"http://reactjs.org/hooks\"\u003ehooks\u003c/a\u003e (such as \u003ccode\u003euseState\u003c/code\u003e), that gives a lot of flexibility to functional components making them not only on-par but actually superior in terms of code re-usability and agility.\u003c/p\u003e\n\u003cp\u003eSince it's much simpler to understand functional components, we'll go through them first so that you can contribute ASAP. When we discuss lifecycle methods, we'll learn more about the differences.\u003c/p\u003e\n\u003ch3 id=\"user-content-lifecycles-and-side-effects\"\u003e\u003ca href=\"#lifecycles-and-side-effects\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eLifecycles and Side-effects\u003c/h3\u003e\n\u003cp\u003eHaving access to state and props is very powerful to create dynamic UIs. However, you also need to know about the lifecycle of a component. You may want to call an API as soon as the UI is visible to user. Or may want to cancel a polling request as soon as the component is removed from current tree of components. You may want to know when a \u003ccode\u003equery\u003c/code\u003e prop has been updated by a parent of a \u003ccode\u003e\u0026#x3C;Search query={userQuery} /\u003e\u003c/code\u003e component, to fetch new results based on updated \u003ccode\u003equery\u003c/code\u003e. All these are side effects of component's life cycle. Perform this side effect when some event occurs (component loads, state changes, prop changes, component unloads to name a few).\u003c/p\u003e\n\u003cp\u003eLet's see how to listen to these events in class based components first.\u003c/p\u003e\n\u003ch3 id=\"user-content-class-based-components\"\u003e\u003ca href=\"#class-based-components\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eClass Based Components\u003c/h3\u003e\n\u003ch4 id=\"user-content-when-a-component-loads\"\u003e\u003ca href=\"#when-a-component-loads\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eWhen a component loads\u003c/h4\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003cspan\u003e.\u003c/span\u003eComponent\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003enull\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003easync\u003c/span\u003e \u003cspan\u003ecomponentDidMount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003e// perform on load side effects\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e data \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eawait\u003c/span\u003e \u003cspan\u003ecallApi\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e data\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003efalse\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003erender\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e loading\u003cspan\u003e,\u003c/span\u003e data \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003estate\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003eloading\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\"Loading...\"\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eUser\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003edata\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003euser\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4 id=\"user-content-when-a-component-is-removed-from-tree\"\u003e\u003ca href=\"#when-a-component-is-removed-from-tree\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eWhen a component is removed from tree\u003c/h4\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003cspan\u003e.\u003c/span\u003eComponent\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003etimer\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003e// update state.timer every 1000 ms\u003c/span\u003e\n  \u003cspan\u003epoll\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e\n    \u003cspan\u003esetInterval\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eoldState\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e \u003cspan\u003etimer\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e oldState\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003etimer\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n      \u003cspan\u003e1000\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ecomponentDidMount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003etimer\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003epoll\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003ecomponentWillUnmount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003eclearInterval\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003etimer\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003erender\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003estate\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003etimer\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4 id=\"user-content-when-a-prop-is-updated\"\u003e\u003ca href=\"#when-a-prop-is-updated\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eWhen a prop is updated\u003c/h4\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003cspan\u003e.\u003c/span\u003eComponent\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\u003cspan\u003eresults\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003ecomponentDidMount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n      \u003cspan\u003efetchNewResultsAndUpdateState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003equery\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003ecomponentDidUpdate\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eprevProps\u003cspan\u003e,\u003c/span\u003e prevState\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003e// query updated\u003c/span\u003e\n    \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003eprevProps\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003equery\u003c/span\u003e \u003cspan\u003e!==\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003equery\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n      \u003cspan\u003efetchNewResultsAndUpdateState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003equery\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003eresults\u003cspan\u003e,\u003c/span\u003eloading\u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003estate\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n    \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003eloading\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\"Getting your results...\"\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eresults\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003emap\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eresult\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eSearchResult\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eresult\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eresult\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003ekey\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eresult\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eid\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\n\n  \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003easync\u003c/span\u003e \u003cspan\u003efetchNewResultsAndUpdateState\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003equery\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n     \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n     \u003cspan\u003econst\u003c/span\u003e results \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eawait\u003c/span\u003e \u003cspan\u003egetResults\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003equery\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n     \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003efalse\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003eresults\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThere are several more lifecycle methods provided by React.Component, but I think these 3 are enough for you to build highly dynamic UIs that are memory safe. They're quite powerful and let you know achieve a lot of complex interactions.\u003c/p\u003e\n\u003cp\u003eHowever, remember I told how class based components are tightly coupled to the business logic and are hence quite verbose?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLogic to call API whenever a component loads seems to be a generic problem, but due to the way React classes are designed, it's hard to abstract this out in a neat way. There are several advanced patterns like Render Props and Higher Order Functions to mitigate that. Each time you want to call an API on load of a component, you've to write this logic in one way or another.\u003c/li\u003e\n\u003cli\u003eSince we can define \u003ccode\u003ecomponentDidMount\u003c/code\u003e, \u003ccode\u003ecomponentDidUpdate\u003c/code\u003e and \u003ccode\u003ecomponentWillUnmount\u003c/code\u003e only once, they'll keep the logic to call APIs, unsubscribe from intervals and subscriptions, clean up other resources in a one huge block. We can't really abstract it out as they're all interdependent. In our timer example, we need to rely on \u003ccode\u003ecomponentDidMount\u003c/code\u003e to set \u003ccode\u003ethis.timer\u003c/code\u003e so that we can clear it in \u003ccode\u003ecomponentWillUnmount\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eThe logic to check which prop has been updated can quickly become a mess if you've to listen to changes on multiple props. What we really want to do is \"whenever props.query changes, do this\" but what we're actually doing is \"whenever component updates, check if it updated due to change in query, if that's the case, do this\". Also, since \u003ccode\u003ecomponentDidUpdate\u003c/code\u003e isn't fired when component is loaded, we need to perform the call in \u003ccode\u003ecomponentDidMount\u003c/code\u003e as well.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"user-content-functional-components\"\u003e\u003ca href=\"#functional-components\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eFunctional Components\u003c/h3\u003e\n\u003cp\u003eNow that we've seen the power of lifecycle methods, let's see how functional components achieve that with basically making use \u003ccode\u003euseEffect\u003c/code\u003e. As you can imagine, \u003ccode\u003euseEffect\u003c/code\u003e seems to be a hook doing a lot of heavy lifting, so let's spend some time understanding it before going through above use cases.\u003c/p\u003e\n\u003cp\u003eLet's first see the signature of \u003ccode\u003euseEffect\u003c/code\u003e.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// a function returning nothing\u003c/span\u003e\n\u003cspan\u003etype\u003c/span\u003e \u003cspan\u003eCleanupType\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003evoid\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e// a function returning a CleanupType function\u003c/span\u003e\n\u003cspan\u003etype\u003c/span\u003e \u003cspan\u003eCallbackType\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003eCleanupType\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003e// accepts CallbackType function and Dependency array, returns nothing\u003c/span\u003e\n\u003cspan\u003etype\u003c/span\u003e \u003cspan\u003eUseEffectType\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eCallbackType\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003eDependency\u003c/span\u003e\u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003evoid\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003e// example\u003c/span\u003e\n\n\u003cspan\u003euseEffect\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003edoSomething\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ea\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003edoSomethingElse\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ea\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ea\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIn above example, we are basically asking react to \u003ccode\u003edoSomething\u003c/code\u003e whenever \u003ccode\u003ea\u003c/code\u003e changes (dependency list tells react to listen to changes on that variable). And whenever \u003ccode\u003ea\u003c/code\u003e transitions from one value to another, before considering the new value, call \u003ccode\u003edoSomethingElse\u003c/code\u003e. This can be seen as an opportunity to do cleanup. Clear polling functions, unsubscribing event listeners, saving some state to storage etc.\u003c/p\u003e\n\u003cp\u003eAn empty dependency list would imply whenever the component that has invoked this hook mounted and unmounted. If you omit the dependency list altogether, then you're essentially telling React to run your code on each render. You almost never want this.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003euseEffect\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003edoSomething\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003e// is loosely same as\u003c/span\u003e\n  \u003cspan\u003edoSomething\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWe can already see how the hooks aren't tied to the functional component that is invoking them, and that we can have multiple number of \u003ccode\u003euseEffect\u003c/code\u003es, just like \u003ccode\u003euseState\u003c/code\u003e. Lastly, it's just a function call, and multiple such \u003ccode\u003euseState\u003c/code\u003e and \u003ccode\u003euseEffect\u003c/code\u003e s could be hidden beneath one \u003ccode\u003euseComplexStuff\u003c/code\u003e hook call.\u003c/p\u003e\n\u003cp\u003eLet's go through the use-cases mentioned above but using functional components now.\u003c/p\u003e\n\u003ch4 id=\"user-content-when-a-component-loads-1\"\u003e\u003ca href=\"#when-a-component-loads-1\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eWhen a component loads\u003c/h4\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003e\u003cspan\u003eMyComponent\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003e// unlike class components, each state variable is individually stored\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e setLoading\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003edata\u003cspan\u003e,\u003c/span\u003e setData\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003enull\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003euseEffect\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ecallApi\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ethen\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n      \u003cspan\u003esetData\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003edata\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n      \u003cspan\u003esetLoading\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003efalse\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003eloading\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\"Loading...\"\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eUser\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003edata\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003euser\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003ePlease go through it and let me know if you've any questions. Try to absorb this API.\u003c/p\u003e\n\u003cp\u003eNow let's see if we can truly abstract out this logic to call API on component load.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// so smoll. much nice.\u003c/span\u003e\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e data\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseUser\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003eloading\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\"Loading...\"\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eUser\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003edata\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003euser\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// but how do we implement useUser?\u003c/span\u003e\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003euseUser\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e setLoading\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003edata\u003cspan\u003e,\u003c/span\u003e setData\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003enull\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003euseEffect\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ecallApi\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ethen\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003edata\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n      \u003cspan\u003esetData\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003edata\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n      \u003cspan\u003esetLoading\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003efalse\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003e// this is the only extra line i've added to previous code.\u003c/span\u003e\n  \u003cspan\u003e// It's basically copy paste refactoring\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e data\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4 id=\"user-content-when-a-component-is-removed-from-tree-1\"\u003e\u003ca href=\"#when-a-component-is-removed-from-tree-1\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eWhen a component is removed from tree\u003c/h4\u003e\n\u003cp\u003eRemember how I said \u003ccode\u003ecomponentWillUnmount\u003c/code\u003e depends on variables set by \u003ccode\u003ecomponentDidMount\u003c/code\u003e. Well, in case of \u003ccode\u003euseEffect\u003c/code\u003e the cleanup function has access to all variables created by the effect part of the function. So that's convenient.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003etimer\u003cspan\u003e,\u003c/span\u003e setTimer\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003euseEffect\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e interval \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003esetInterval\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetTimer\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003et\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e t \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e1000\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003eclearInterval\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003einterval\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003etimer\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eAnd again, we can abstract this into a \u003ccode\u003euseInterval\u003c/code\u003e hook. These custom hooks are called, yup, custom hooks. Prefix them with a \u003ccode\u003euse\u003c/code\u003e so that it plays nicely with \u003ca href=\"https://www.npmjs.com/package/eslint-plugin-react-hooks\"\u003eeslint-plugin-react-hooks\u003c/a\u003e.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e timer \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseTimer\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003etimer\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003euseTimer\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003edefaultValue\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003etimer\u003cspan\u003e,\u003c/span\u003e setTimer\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003edefaultValue\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003euseEffect\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e interval \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003esetInterval\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetTimer\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003et\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e t \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e1000\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003eclearInterval\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003einterval\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e timer\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eI hope you're now convinced that hooks are really powerful and highly composable. Let's see the final use case now.\u003c/p\u003e\n\u003ch4 id=\"user-content-when-a-prop-is-updated-1\"\u003e\u003ca href=\"#when-a-prop-is-updated-1\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eWhen a prop is updated\u003c/h4\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eprops\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eresults\u003cspan\u003e,\u003c/span\u003e setResults\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e setLoading\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003euseEffect\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003esetLoading\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003egetResults\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eprops\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003equery\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ethen\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eresults\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n      \u003cspan\u003esetResults\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eresults\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n      \u003cspan\u003esetLoading\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003efalse\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eprops\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003equery\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003eloading\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\"Getting your results...\"\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eresults\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003emap\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eresult\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n        \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eSearchResult\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eresult\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eresult\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003ekey\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eresult\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eid\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n      \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eYou can see how just with one \u003ccode\u003euseEffect\u003c/code\u003e we can handle both mounting and updating stages. This makes our code less verbose and more declarative. Unlike class example, we're really asking react to get results whenever query updates.\u003c/p\u003e\n\u003cp\u003eYou might have observed how I've not used \u003ccode\u003easync/await\u003c/code\u003e syntax within a \u003ccode\u003euseEffect\u003c/code\u003e yet. It's because the \u003ccode\u003eCallbackType\u003c/code\u003e isn't an \u003ccode\u003easync\u003c/code\u003e function and it's expecting a callback in return, not a promise. If you really want to use async await syntax, you should try doing this:\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003euseEffect\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003efetchResults\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003easync\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003esetLoading\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e results \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eawait\u003c/span\u003e \u003cspan\u003egetResults\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eprops\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003equery\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003esetResults\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eresults\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003esetLoading\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003efalse\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003efetchResults\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eprops\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003equery\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNow that we've seen enough hooks code, I think it's time to go through the \u003cem\u003e\u003ca href=\"https://reactjs.org/docs/hooks-rules.html\"\u003eRules of Hooks\u003c/a\u003e.\u003c/em\u003e Yes, they seem to be magical, but there are some rules that we need to follow to ensure React doesn't end up minimizing into a point of singularity and breaking the universe as we know it.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eHooks must be only called from a React Functional Component or a custom hook.\nYou can't use it in a normal business logic function, or a class based component.\u003c/li\u003e\n\u003cli\u003eHooks must be at top level of wherever it's being called from.\nBasically, you can't use a hook inside a condition or loop.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eGo through the \u003ca href=\"https://reactjs.org/docs/hooks-rules.html#explanation\"\u003edocumentation\u003c/a\u003e to understand more about this.\u003c/p\u003e\n\u003ch3 id=\"user-content-styling\"\u003e\u003ca href=\"#styling\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eStyling\u003c/h3\u003e\n\u003cp\u003eSo far you might have this \u003ccode\u003estyle\u003c/code\u003e prop used on various components with an object with style related values in it.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e \u003cspan\u003estyle\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e color\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"red\"\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e backgroundColor\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"blue\"\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e marginRight\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e10\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThese are actually CSS style \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Reference#Keyword_index\"\u003erules\u003c/a\u003e that React accepts for base components. Rules that have a hyphen are camel cased. So \u003ccode\u003emargin-right\u003c/code\u003e becomes \u003ccode\u003emarginRight\u003c/code\u003e. Also, you can pass numbers wherever applicable, \u003ccode\u003epx\u003c/code\u003e unit would be taken for those. So \u003ccode\u003emarginRight: 10\u003c/code\u003e is same as \u003ccode\u003emargin-right: 10px;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e Unlike CSS you can't define \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\"\u003epseudo classes\u003c/a\u003e like \u003ccode\u003e:hover\u003c/code\u003e or \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\"\u003epseudo elements\u003c/a\u003e like \u003ccode\u003e::after\u003c/code\u003e. You can achieve that by defining a CSS class outside of React and using it as \u003ccode\u003eclassName\u003c/code\u003e or using CSS-in-JS libraries like \u003ca href=\"https://styled-components.com/\"\u003estyled-components\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"user-content-react-native\"\u003e\u003ca href=\"#react-native\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eReact Native\u003c/h2\u003e\n\u003cp\u003eNow that we've covered most of the basic fundamentals of ReactJS, let's see how \u003ca href=\"https://reactnative.dev/\"\u003eReact Native\u003c/a\u003e is different. In all our above examples, we're actually using ReactJS along with \u003ca href=\"https://reactjs.org/docs/react-dom.html\"\u003eReactDOM\u003c/a\u003e. It's the driver that knows what to do when we write a heading like follows.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e \u003cspan\u003estyle\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e color\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"red\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eHello\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIt converts the \u003ccode\u003eh1\u003c/code\u003e to respective HTML \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction\"\u003eDOM\u003c/a\u003e element, and applies the styling to it. So we can see that ReactJS (class components, state, lifecycle, props, composability, hooks etc.) is actually host platform agnostic. It can run on any platform as long as you provide a driver for the same. On Native platforms, \u003ca href=\"https://reactnative.dev/\"\u003ereact-native\u003c/a\u003e does that. You can image that we can't use \u003ccode\u003eh1\u003c/code\u003e and the like on native as they don't understand HTML. Instead, we've things like \u003ccode\u003eTextView\u003c/code\u003e on Android and \u003ccode\u003eUITextView\u003c/code\u003e on iOS and so on for all native UI elements. The driver takes care of mapping a \u003ccode\u003e\u0026#x3C;View style={{backgroundColor: 'red'}}\u003e\u0026#x3C;/View\u003e\u003c/code\u003e into a \u003ccode\u003eUIView\u003c/code\u003e object with background property set as \"red\" for iOS, likewise for Android.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://reactnative.dev/docs/assets/diagram_ios-android-views.svg\" alt=\"https://reactnative.dev/docs/assets/diagram_ios-android-views.svg\"\u003e\u003c/p\u003e\n\u003cp\u003eSo apart from using components like \u003ccode\u003eView\u003c/code\u003e \u003ccode\u003eText\u003c/code\u003e \u003ccode\u003eTextInput\u003c/code\u003e \u003ccode\u003eImage\u003c/code\u003e etc in place of \u003ccode\u003ediv\u003c/code\u003e \u003ccode\u003espan\u003c/code\u003e \u003ccode\u003einput\u003c/code\u003e \u003ccode\u003eimg\u003c/code\u003e (respectively), the fundamentals remain the same. There's one more difference however, and that is styling:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eJust like native platforms don't understand HTML, they don't understand CSS either. Authors of React Native made \u003ca href=\"https://yogalayout.com/docs\"\u003eYoga\u003c/a\u003e a \u003ca href=\"https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Flexbox\"\u003eflexbox\u003c/a\u003e implementation along with a CSS rule subset to native styling translation layer for native platforms.\u003c/li\u003e\n\u003cli\u003eAnother thing is that unlike HTML where you can basically create any sort of hierarchy of elements, even if it doesn't make sense, React Native is more strict. Strings are only accepted by \u003ccode\u003e\u0026#x3C;Text/\u003e\u003c/code\u003e and you can't place strings inside a \u003ccode\u003e\u0026#x3C;View /\u003e\u003c/code\u003e, similarly rules around text (color, fontSize etc) don't have any effect on a \u003ccode\u003e\u0026#x3C;View /\u003e\u003c/code\u003e. You need to assign it to the \u003ccode\u003e\u0026#x3C;Text /\u003e\u003c/code\u003e directly.\u003c/li\u003e\n\u003cli\u003eAlso the API of \u003ccode\u003estyle\u003c/code\u003e prop is slightly different. We'll cover it next.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"user-content-react-native-styling\"\u003e\u003ca href=\"#react-native-styling\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eReact Native Styling\u003c/h3\u003e\n\u003cp\u003eUnlike \u003ca href=\"https://reactjs.org/docs/react-dom.html\"\u003ereact-dom\u003c/a\u003e, \u003ccode\u003estyle\u003c/code\u003e prop is slightly different in the sense that it also accepts an array. It can also accept object created by \u003ccode\u003eStyleSheet.create\u003c/code\u003e\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// react-dom\u003c/span\u003e\n\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan\u003estyle\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003emargin\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e10\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e backgroundColor\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e'red'\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan\u003e// react-native\u003c/span\u003e\n\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eView\u003c/span\u003e\u003c/span\u003e \u003cspan\u003estyle\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003emargin\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e10\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e backgroundColor\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e'red'\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e// or\u003c/span\u003e\n\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eView\u003c/span\u003e\u003c/span\u003e \u003cspan\u003estyle\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003emargin\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e10\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003ebackgroundColor\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e'red'\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e// or\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e styles \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eStyleSheet\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecreate\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\n  container\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003emargin\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e10\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e backgroundColor\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e'red'\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\n\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eView\u003c/span\u003e\u003c/span\u003e \u003cspan\u003estyle\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003estyles\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003econtainer\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"user-content-react-native-web\"\u003e\u003ca href=\"#react-native-web\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eReact Native Web\u003c/h3\u003e\n\u003cp\u003eWe've come full circle with \u003ca href=\"https://necolas.github.io/react-native-web/docs/?path=/docs/overview-getting-started--page\"\u003eReact Native Web\u003c/a\u003e, which is basically a component library that has same API as \u003ccode\u003ereact-native\u003c/code\u003e but is implemented with \u003ccode\u003ereact-dom\u003c/code\u003e in mind. A view in \u003ccode\u003ereact-native-web\u003c/code\u003e is essentially a \u003ccode\u003e\u0026#x3C;div /\u003e\u003c/code\u003e . This might seem futile, however the power is that you can now write your code in React Native, and use it on web using \u003ccode\u003ereact-native-web\u003c/code\u003e.\u003c/p\u003e\n\u003ch2 id=\"user-content-advanced-patterns\"\u003e\u003ca href=\"#advanced-patterns\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eAdvanced Patterns\u003c/h2\u003e\n\u003cp\u003eThese are now not as important with advent of hooks, however it's still important once in a while in your daily job. You can ignore these for now and comeback later whenever you encounter one.\u003c/p\u003e\n\u003ch3 id=\"user-content-higher-order-components\"\u003e\u003ca href=\"#higher-order-components\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eHigher Order Components\u003c/h3\u003e\n\u003cp\u003eJust like Higher Order Functions can accept a function and return a new one, High Order Components are functions that accept a component and return a new one. This can be used as a way to decorate a particular component with extra behavior.\u003c/p\u003e\n\u003cp\u003eSuppose we want to show a loader if \u003ccode\u003eloading\u003c/code\u003e prop is true, but we don't want to write this code for all components. We can create a \u003ccode\u003ewithLoader\u003c/code\u003e higher order component to solve this.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003ewithLoader\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eLoaderContainer\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eprops\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003eprops\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLoader\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e...\u003c/span\u003eprops\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNow we can wrap our components with \u003ccode\u003ewithLoader\u003c/code\u003e whenever we want to add this behavior.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// UserPage.js\u003c/span\u003e\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eUserPage\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003e...\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003eexport\u003c/span\u003e \u003cspan\u003edefault\u003c/span\u003e \u003cspan\u003ewithLoader\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eUserPage\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003e// Home.js\u003c/span\u003e\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eHome\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e data\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseUser\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eUserPage\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eloading\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003edata\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eMultiple such HOCs can be used to add behavior. \u003ca href=\"https://react-redux.js.org/api/connect\"\u003ereact-redux\u003c/a\u003e actually exposes one popular HOC \u003ccode\u003econnect\u003c/code\u003e that lets you connect to the \u003ca href=\"https://redux.js.org/\"\u003eredux\u003c/a\u003e store.\u003c/p\u003e\n\u003cp\u003eThere are some caveats though:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOur React tree will now have a \u003ccode\u003eLoaderContainer\u003c/code\u003e above each component using this HOC.\u003c/li\u003e\n\u003cli\u003eWe can't add this behavior dynamically or conditionally, at build time we make the choice either to wrap a component in an HOC or not.\u003c/li\u003e\n\u003cli\u003ePassing a \u003ca href=\"https://reactjs.org/docs/refs-and-the-dom.html\"\u003eref\u003c/a\u003e won't give us \u003ca href=\"https://reactjs.org/docs/refs-and-the-dom.html\"\u003eref\u003c/a\u003e of our \u003ccode\u003eComponent\u003c/code\u003e, but rather of \u003ccode\u003eLoaderContainer\u003c/code\u003e. To mitigate this most developers usually manually connect a \u003ccode\u003einnerRef\u003c/code\u003e prop to the inner component.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003ewithLoader\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eLoaderContainer\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e innerRef\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e...\u003c/span\u003eprops \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003eprops\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLoader\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eref\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003einnerRef\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e...\u003c/span\u003eprops\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eThe static fields on the component won't be accessible from the enhanced component. Suppose \u003ccode\u003eUserPage\u003c/code\u003e has a \u003ccode\u003eMODES\u003c/code\u003e field so that you can choose which mode of \u003ccode\u003eUserPage\u003c/code\u003e you want to render. To mitigate this, you can \u003ca href=\"https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over\"\u003ehoist\u003c/a\u003e the \u003ca href=\"https://github.com/mridgway/hoist-non-react-statics\"\u003enon-react statics\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e// UserPage.js\u003c/span\u003e\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eUserPage\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003e...\u003c/span\u003e\n  \u003cspan\u003estatic\u003c/span\u003e \u003cspan\u003eMODES\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\u003cspan\u003eLITE\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003eNORMAL\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003eexport\u003c/span\u003e \u003cspan\u003edefault\u003c/span\u003e \u003cspan\u003ewithLoader\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eUserPage\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003e// Home.js\u003c/span\u003e\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eHome\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e data\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseUser\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003e// ‚ùå Won't work as withLoader doesn't expose the MODES static field.\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eUserPage\u003c/span\u003e\u003c/span\u003e \u003cspan\u003emode\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003eUserPage\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eMODES\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eLITE\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eloading\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003edata\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3 id=\"user-content-render-props\"\u003e\u003ca href=\"#render-props\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eRender props\u003c/h3\u003e\n\u003cp\u003eWhile HOCs are highly powerful, they have a lot of caveats that Render Props attempt to solve. Render props are just a fancy name given to a pattern in which makes use of the fact that \u003ccode\u003echildren\u003c/code\u003e field (or any prop for that matter) of a component can actually be a function. Using this, we can put behavior in our Render Prop accepting Component and use it like any other React Component. This is in a way inversion of control, where you decide what you want to render. For an example, let's modify the first class based example of loading data on component load. This helps us extract the behavior out of our initial example and lets us reuse that logic wherever we want.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eUserDataFetcher\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003eloading\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003etrue\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e data\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003enull\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003easync\u003c/span\u003e \u003cspan\u003ecomponentDidMount\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e data \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eawait\u003c/span\u003e \u003cspan\u003ecallApi\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003edata\u003cspan\u003e,\u003c/span\u003e loading\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003efalse\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\n  \u003cspan\u003erender\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e data\u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003estate\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003echildren\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e data\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eApp\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eUserDataFetcher\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003eloading\u003cspan\u003e,\u003c/span\u003e data\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eUserPage\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eloading\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eloading\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003edata\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n   \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan\u003eWithUserData\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eI guess you can see why this was so powerful in pre-hooks era.\u003c/p\u003e\n\u003ch2 id=\"user-content-optimizations\"\u003e\u003ca href=\"#optimizations\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eOptimizations\u003c/h2\u003e\n\u003cp\u003eWhile React's internal architecture ensures app performance stays top-notch, there are some optimizations we can use to reduce load on user's system by avoiding large re-renders. See, each time reference of state or props of a component changes, React would re-render the component. This is how we achieve reactivity. However, React by default will make no checks and assumptions to see if the update prop or state is actually same as before.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\"\u003c/span\u003e1\u003cspan\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWhenever \u003ccode\u003ecount\u003c/code\u003e state variable updates in \u003ccode\u003eMyComponent\u003c/code\u003e, \u003ccode\u003eMyComponent\u003c/code\u003e would re-render. And since it re-renders, it'll cause \u003ccode\u003eLibrary\u003c/code\u003e to re-render as well. React wouldn't check if version has actually changed or not. If you wish to avoid a re-render of \u003ccode\u003eLibrary\u003c/code\u003e, you can use \u003ccode\u003eReact.memo\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id=\"user-content-reactmemo\"\u003e\u003ca href=\"#reactmemo\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eReact.memo\u003c/h3\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\"\u003c/span\u003e1\u003cspan\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ccode\u003eReact.memo\u003c/code\u003e will see if props passed to a functional component have been updated or not. It loops through all the keys in previous props and next props, and sees if they're referential-ly equal to each other. It accepts a second argument as well to explicit perform this check.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\n  \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n  \u003cspan\u003e(\u003c/span\u003eprevProps\u003cspan\u003e,\u003c/span\u003e nextProps\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e prevProps\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eversion\u003c/span\u003e \u003cspan\u003e===\u003c/span\u003e nextProps\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eversion\u003c/span\u003e\n\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eHere we are telling \u003ccode\u003eReact.memo\u003c/code\u003e that consider props to be equal if the 2nd argument returns \u003ccode\u003etrue\u003c/code\u003e. So the function is anwering the question \u003ccode\u003eare props the same?\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eOne thing to note is that \u003ccode\u003eReact.memo\u003c/code\u003e checks for reference updates and not value update. The \"reference\" to any variable may change even though the \"value\" remains same.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003elet\u003c/span\u003e a \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\na \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e \u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIn the above code, by virtue of re-assignment, we've caused the reference of \u003ccode\u003ea\u003c/code\u003e to change, even though the value is identical. React doesn't care for the value, but the reference. This is why we can't mutate variables as React wouldn't be able to tell whether it has been updated or not. And such reassignments can happen a lot of times! Let's consider the following example now.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003econst\u003c/span\u003e libraryData \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"1\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003elibraryData\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e data\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eJust like before, whenever the \u003ccode\u003ecount\u003c/code\u003e state variable updates, \u003ccode\u003eMyComponent\u003c/code\u003e would re-render, due to which \u003ccode\u003eLibrary\u003c/code\u003e would re-render too. Even if we apply \u003ccode\u003eReact.memo\u003c/code\u003e like before, it wouldn't help in this particular case.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003econst\u003c/span\u003e libraryData \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"1\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003elibraryData\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// ‚ùå Wouldn't work as reference of libraryData changes on each render\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e data\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe reason for this is that we've passed an object literal, which would be created each time \u003ccode\u003eMyComponent\u003c/code\u003e updates. Same is true for functions that are created in-line.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ealert\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\"You clicked!\"\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\"\u003c/span\u003e1\u003cspan\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eonClick\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// ‚ùå Wouldn't work as reference of onClick changes on each render\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e,\u003c/span\u003e onClick \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eonClick\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eEach time \u003ccode\u003eMyComponent\u003c/code\u003e updates, a new function is created for \u003ccode\u003eonClick\u003c/code\u003e prop of \u003ccode\u003eLibrary\u003c/code\u003e. This can be fixed by some of the following techniques:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eMoving the said object/function outside of render of \u003ccode\u003eMyComponent\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eSomehow memozing the value between renders.\u003c/li\u003e\n\u003cli\u003eUpdating the checks performed by \u003ccode\u003eReact.memo\u003c/code\u003e to compare the value and not just reference.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFor the first method, we can just move the object to global scope. This way the reference never changes.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003econst\u003c/span\u003e libraryData \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"1\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003elibraryData\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// ‚úÖ Works as reference of libraryData doesn't change\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e data\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch4 id=\"user-content-usememo--usecallback\"\u003e\u003ca href=\"#usememo--usecallback\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003euseMemo \u0026#x26; useCallback\u003c/h4\u003e\n\u003cp\u003eOr you could update the way \u003ccode\u003eLibrary\u003c/code\u003e accepts version. Notice how earlier we were simply passing version as a prop instead of keeping it inside a data prop. Since reference to strings \u0026#x26; numbers don't change, our usage of \u003ccode\u003eReact.memo\u003c/code\u003e would work as expected. The insight here is that you can design the way your component accepts props to avoid such pit-falls of referential equality checks. But this might not work always as your data needs might be different.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\"\u003c/span\u003e1\u003cspan\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// ‚úÖ Works as reference of strings doesn't change\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eSecond method can help in that case. To memoize the value, in functional components we can use advanced hooks like \u003ccode\u003eReact.useMemo\u003c/code\u003e \u0026#x26; \u003ccode\u003eReact.useCallback\u003c/code\u003e. Suppose we really need to pass \u003ccode\u003eversion\u003c/code\u003e as a data object. We can ask React to memoize it between renders using \u003ccode\u003euseMemo\u003c/code\u003e. The second argument is a dependency array, just like \u003ccode\u003euseEffect\u003c/code\u003e. So here we are telling React to recompute \u003ccode\u003elibraryData\u003c/code\u003e whenver any item in the array passed as second argument changes. Empty array implies on component mount. So this way we can preserve the reference to \u003ccode\u003elibraryData\u003c/code\u003e\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003econst\u003c/span\u003e libraryData \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseMemo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003elibraryData\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// ‚úÖ Works as reference of libraryData is now memoized.\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e data\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ccode\u003euseCallback\u003c/code\u003e is similar to \u003ccode\u003euseMemo\u003c/code\u003e, just that it returns a callable function instead. We can use this for functions.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003econst\u003c/span\u003e onClick \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseCallback\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ealert\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\"You clicked!\"\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\"\u003c/span\u003e1\u003cspan\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eonClick\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// ‚úÖ Works as reference of onClick is now memoized.\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e,\u003c/span\u003e onClick \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eonClick\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIn fact, you can implement \u003ccode\u003euseCallback\u003c/code\u003e using \u003ccode\u003euseMemo\u003c/code\u003e as the latter works for any type of value.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003euseCallback\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003efn\u003cspan\u003e,\u003c/span\u003e dependencyArray\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003euseMemo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e fn\u003cspan\u003e,\u003c/span\u003e dependencyArray\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe last method is to just change the way \u003ccode\u003eReact.memo\u003c/code\u003e performs the check. Though this can go pretty nasty as the number of props increase and nesting of the keys increase. And there's no neat way to do it for functions.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003efunction\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003ecount\u003cspan\u003e,\u003c/span\u003e setCount\u003cspan\u003e]\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003euseState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e0\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003econst\u003c/span\u003e libraryData \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"1\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n    \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003esetCount\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ec\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e c \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003elibraryData\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e    \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// ‚úÖ Works as we're now comparing individual key of object\u003c/span\u003e\n\u003cspan\u003econst\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ememo\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\n  \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e data\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n  \u003cspan\u003e(\u003c/span\u003eprevProps\u003cspan\u003e,\u003c/span\u003e nextProps\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e prevProps\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eversion\u003c/span\u003e \u003cspan\u003e!==\u003c/span\u003e nextProps\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eversion\u003c/span\u003e\n\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eNOTE:\u003c/strong\u003e These are advanced optimizations and you should use them only if you've an actual performance regression. More often than not, the extra work done in these optimizations might give very little gains with the cost of code complexity and potential to introduce bugs. Each memoization technique described here requries extra computation (\u003ccode\u003eReact.memo\u003c/code\u003e loops throught all props and checks their reference change), memory usage (To memoize is to store data) between renders, so the benefit would only come if the value you're trying to memozie is too expensive to calculate (some highly complicated data manipulation on an array of 1000 items) or the component you're planning to prevent re-renders for has a complicated deeply nested UI to render. In above cases it makes no sense as \u003ccode\u003e\u0026#x3C;h1 /\u003e\u003c/code\u003e is fairly simple component and \u003ccode\u003elibraryData\u003c/code\u003e is a very small object. So unless you have a performance problem caused by re-renders, you shouldn't wrap variables in \u003ccode\u003euseMemo\u003c/code\u003e and components in \u003ccode\u003eReact.memo\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id=\"user-content-reactpurecomponent\"\u003e\u003ca href=\"#reactpurecomponent\" aria-hidden=\"true\" tabindex=\"-1\"\u003e\u003cspan\u003eüîó \u003c/span\u003e\u003c/a\u003eReact.PureComponent\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eReact.memo\u003c/code\u003e and the hooks like \u003ccode\u003euseMemo\u003c/code\u003e and \u003ccode\u003euseCallback\u003c/code\u003e only work for functional components. What about class components?\u003c/p\u003e\n\u003cp\u003eLet's first take our above example to a class-y world.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e count\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003erender\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n   \u003cspan\u003econst\u003c/span\u003e libraryData \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"1\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e\n          \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003es \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e count\u003cspan\u003e:\u003c/span\u003e s\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecount\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\n        \u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e          \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003elibraryData\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eClass based components have access to a life cycle method \u003ccode\u003eshouldComponentUpdate\u003c/code\u003e. We can guess from the name that it's similar to the second argument of \u003ccode\u003eReact.memo\u003c/code\u003e above.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e count\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003erender\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n   \u003cspan\u003econst\u003c/span\u003e libraryData \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"1\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e\n          \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003es \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e count\u003cspan\u003e:\u003c/span\u003e s\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecount\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\n        \u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e          \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003elibraryData\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003eshouldComponentUpdate\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003enextProps\u003cspan\u003e,\u003c/span\u003e nextState\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eversion\u003c/span\u003e \u003cspan\u003e!==\u003c/span\u003e nextProps\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIt's different in two ways than \u003ccode\u003eReact.memo\u003c/code\u003e. Firstly, it has access to \u003ccode\u003enextState\u003c/code\u003e so we can add checks for state changes. This can be helpful if a key in \u003ccode\u003ethis.state\u003c/code\u003e is an object or function and you can't determine whether a state update is needed whenever you set it. Secondly, it is expecting answer to \u003ccode\u003eshould component update?\u003c/code\u003e and not \u003ccode\u003eare props the same?\u003c/code\u003e. Other than that it's pretty much the same. You can imagine writing it by hand and having a dozen of checks for a large component can be tedious and error-prone. If only we had a default behaviour of \u003ccode\u003eReact.memo\u003c/code\u003e for classes. Enter \u003ccode\u003eReact.PureComponent\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eJust like \u003ccode\u003eReact.Component\u003c/code\u003e, \u003ccode\u003eReact.PureComponent\u003c/code\u003e is another class you can extend from to create your component. It behaves just like a regular component, but has a \u003ccode\u003eshouldComponentUpdate\u003c/code\u003e lifecycle method implemented for you.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e count\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003erender\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e\n          \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003es \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e count\u003cspan\u003e:\u003c/span\u003e s\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecount\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\n        \u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e          \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003eversion\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\"\u003c/span\u003e1\u003cspan\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003e// ‚úÖ Works as reference of this.props.version doesn't change as it's a string\u003c/span\u003e\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003ePureComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eAnd just like \u003ccode\u003eReact.memo\u003c/code\u003e it would fail if the said prop is an object or function that updates in each render. However, we don't really have a simple way to memoize these variables like \u003ccode\u003euseMemo\u003c/code\u003e. You can instead define a class property to move it out of scope render method.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eMyComponent\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  state \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e count\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  libraryData \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"1\"\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n  \u003cspan\u003erender\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\n      \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e\n          \u003cspan\u003eonClick\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003esetState\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003es \u003cspan\u003e=\u003e\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e count\u003cspan\u003e:\u003c/span\u003e s\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003ecount\u003c/span\u003e \u003cspan\u003e+\u003c/span\u003e \u003cspan\u003e1\u003c/span\u003e \u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e\n        \u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e          \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003ecount\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e        \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003e\u003cspan\u003eLibrary\u003c/span\u003e\u003c/span\u003e \u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e{\u003c/span\u003e\u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003elibraryData\u003c/span\u003e\u003cspan\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e      \u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\n\u003cspan\u003eclass\u003c/span\u003e \u003cspan\u003eLibrary\u003c/span\u003e \u003cspan\u003eextends\u003c/span\u003e \u003cspan\u003eReact\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003e\u003cspan\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003erender\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003econst\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e version \u003cspan\u003e}\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003ethis\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprops\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003edata\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n    \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003eThe library version is \u003c/span\u003e\u003cspan\u003e{\u003c/span\u003eversion\u003cspan\u003e}\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e\u003cspan\u003e\u0026#x3C;/\u003c/span\u003eh1\u003c/span\u003e\u003cspan\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eNOTE:\u003c/strong\u003e Writing \u003ccode\u003eshouldComponentUpdate\u003c/code\u003e by hand can cause more harm if a bug in logic prevents component from re-rendering. Relying on \u003ccode\u003ePureComponent\u003c/code\u003e is preferred, however if the component is simple, a re-render might be as good as comparison checks before render.\u003c/p\u003e\n","fileName":"Learning ReactJS in 2020.md"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"learning-reactjs-in-2020-9-14-2020"},"buildId":"UU2HjGMS1_aNul3moXqPI","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>