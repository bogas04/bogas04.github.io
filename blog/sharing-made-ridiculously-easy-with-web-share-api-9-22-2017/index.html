<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=//github.com/bogas04.png rel=icon type=image/jpg> <style>.progress.svelte-1uxc35n.svelte-1uxc35n{position:fixed;top:0;z-index:1000;height:4px;width:100%;border-radius:2px;background-clip:padding-box;overflow:hidden}.progress.svelte-1uxc35n .indeterminate.svelte-1uxc35n:before{content:'';position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:svelte-1uxc35n-indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:svelte-1uxc35n-indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress.svelte-1uxc35n .indeterminate.svelte-1uxc35n:after{content:'';position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:svelte-1uxc35n-indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:svelte-1uxc35n-indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}@-webkit-keyframes svelte-1uxc35n-indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}100%{left:100%;right:-90%}}@keyframes svelte-1uxc35n-indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}100%{left:100%;right:-90%}}@-webkit-keyframes svelte-1uxc35n-indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}100%{left:107%;right:-8%}}@keyframes svelte-1uxc35n-indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}100%{left:107%;right:-8%}}main.svelte-jcurac{position:relative;max-width:56em;background-color:#fff;padding:2em;margin:0 auto;box-sizing:border-box}img{width:100%}.content.svelte-1noajke h2{font-size:1.4em;font-weight:500}.content.svelte-1noajke pre{background-color:#f9f9f9;box-shadow:inset 1px 1px 5px rgba(0,0,0,.05);padding:.5em;border-radius:2px;overflow-x:auto}.content.svelte-1noajke pre code{background-color:transparent;padding:0}.content.svelte-1noajke ul{line-height:1.5}.content.svelte-1noajke li{margin:0 0 .5em 0}h4.svelte-1noajke{text-transform:capitalize;margin-bottom:2em}</style> <noscript id=sapper-head-start></noscript><title>Sharing made ridiculously easy with Web Share API | Blog | Divjot Singh</title><meta content="Sharing made ridiculously easy with Web Share API | Blog | Divjot Singh" name=title><meta content="With growing mobile usage, performance and leanness (yeah, that’s a word) isbecoming top priority for web apps. Oddly enough, sharing has…" name=description><meta content="web share api, web apis, browser, DOM, PWA, web apps" name=keywords><meta content=website property=og:type><meta content=https://bogas04.github.io/blog/sharing-made-ridiculously-easy-with-web-share-api-9-22-2017 property=og:url><meta content="Sharing made ridiculously easy with Web Share API | Blog | Divjot Singh" property=og:title><meta content="With growing mobile usage, performance and leanness (yeah, that’s a word) isbecoming top priority for web apps. Oddly enough, sharing has…" property=og:description><meta content=https://bogas04.github.io/img/blog/1__qp3z0ij8v372R__DVbuJB6Q.jpeg property=og:image><meta content=summary_large_image property=twitter:card><meta content=https://bogas04.github.io/blog/sharing-made-ridiculously-easy-with-web-share-api-9-22-2017 property=twitter:url><meta content="Sharing made ridiculously easy with Web Share API | Blog | Divjot Singh" property=twitter:title><meta content="With growing mobile usage, performance and leanness (yeah, that’s a word) isbecoming top priority for web apps. Oddly enough, sharing has…" property=twitter:description><meta content=https://bogas04.github.io/img/blog/1__qp3z0ij8v372R__DVbuJB6Q.jpeg property=twitter:image><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <main> <main class=svelte-jcurac> <h1>Sharing made ridiculously easy with Web Share API</h1> <h4 class=svelte-1noajke> <a href=/ >Divjot Singh</a> | <a href=/blog>Blog</a> | Fri Sep 22 2017 <br> web share api, web apis, browser, DOM, PWA, web apps </h4> <div class="svelte-1noajke content"> <img alt="Image with icons of social media platforms" src=img/blog/1__qp3z0ij8v372R__DVbuJB6Q.jpeg><br><blockquote>With growing mobile usage, performance and leanness (yeah, that’s a word) is becoming top priority for web apps. Oddly enough, sharing has never worked out well for web, until now (hopefully).</blockquote><h3><h1>History time</h1></h3>Since the social network explosion, ad revenue on page views and obsession with <a href=http://digg.com/ >digg</a>\-ing websites, social sharing “widgets” have polluted our browsing experience with numerous flaws:<br><img alt="" src=img/blog/1__rW9LubrRX5l06KUeRoCzsA.png><br><ul><li>They came with a dozen of JavaScript SDK files for every-single-social-network.<li>They were usually “sticky”, because that’s so cool.<li>They were hard to style, always looking pretty off from your website’s look and feel.<li>They almost always lacked one social network which was big in your region or for your audience.</ul><br>All these flaws became more prominent with rise of smartphones. SDKs burdened (and <a href=https://medium.freecodecamp.org/why-16-of-the-code-on-the-average-site-belongs-to-facebook-and-what-that-means-68956cd731be>still do</a>) the network and CPU, “sticky” widgets janked scrolling, and became unsurprisingly <a href=http://thinksem.com/blog/floating-social-media-share-bar-good-or-bad/ >very annoying</a> at smaller resolutions (like they weren’t otherwise). And they certainly weren’t meant for everyone.<br>While solutions like lazy-loading and simpler designs helped a lot, it still is a painful job to find the right widget for your website, tweak it till the point it isn’t an eye-sore, only to find out that the users aren’t digg-ing it anymore (shameless pun-intended), and want to share it on XYZ messenger, which doesn’t have an <a href=https://faq.whatsapp.com/en/android/28000012>intent</a> URL yet.<br><img alt="1990s called and it wants you to reply back." src=img/blog/1__4xpPKwDeI__BomsMMRntRTw.png> 1990s called and it wants you to reply back.<br>Sadly, browsers haven’t cared enough to innovate much in this space lately. There were several attempts by Mozilla, Chrome and even <a href=http://www.lovemysurface.net/using-windows-8-share-charm-surface/ >Windows 8</a>. While they still let you “email” your website on Desktop, and share to your favorite app on mobile, but that’s about it. Developer has no control over the shared title, content or the URL, which is a bigger problem when we talk about SPAs with fancy URLs.<h3><h1>tl;dr</h1></h3>And this changes with <a href=https://developers.google.com/web/updates/2016/09/navigator-share>Web Share API</a>. Wow, that’s quite a lot of build up for a simple API, isn’t it ? But this API is remarkable !<br>And that’s it ! In order to use it, you need to meet following conditions though:<br><blockquote>Your site must be served over <a href=https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features>HTTPS</a>.</blockquote><br><blockquote>You can only invoke the API in response to a user action, such as a click (e.g., you can’t call <code>navigator.share</code> as part of the page load).</blockquote><br><blockquote>You can also share any URL, not just URLs under your website’s current scope: and you may also share <code>text</code> without a URL.</blockquote><br><blockquote>You should feature-detect it in case it’s not available on your users’ platform (e.g., via <code>'share' in navigator</code>)</blockquote><br>The API is still a proposal, however it’s implemented in Chrome 61, which is the latest stable version at time of writing. Which means, in next 6 weeks, this API would be available on almost every other Android phone. If you’re still not sold and think intents are the way to go, you can head over to the <a href=https://github.com/WICG/web-share/blob/master/docs/explainer.md#frequently-asked-questions>FAQ</a> section of the proposal to learn about some decent arguments.<br>The <a href=http://mobile.twitter.com/ >awesome PWA</a> of <a href=https://medium.com/@paularmstrong/twitter-lite-and-high-performance-react-progressive-web-apps-at-scale-d28a00e780a3>Twitter</a> already uses <img alt="Web Share API for sharing tweets." src=img/blog/1__tGS6QdpXiL7m21oPm25v7A.png><h3><h1>Future</h1></h3>Did I say that’s it? Because that isn’t it yet.<br><ul><li>The share data (title, url and text presently) isn’t just limited to current set. There <a href=https://wicg.github.io/web-share/#extensibility-of-this-api>would</a> be additions to it in future, <code>image</code> being one for example.<li>There’s a sibling API, <a href=https://github.com/mgiuca/web-share-target>Web Share Target</a>, which allows a <a href=https://developers.google.com/web/progressive-web-apps/ >PWA</a> to be listed in the native app share drawer. This brings web apps way closer to the native experience. Learn more about that proposal <a href=https://github.com/mgiuca/web-share-target/blob/master/docs/explainer.md>here</a>.</ul><h3><h1>Contribute</h1></h3>So start adding support to this awesome API right now, and if you would like to have this API well supported please follow/vote/share/contribute to the bug numbers I’m listing below;<br><ul><li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1402369">Firefox Bug 1402369</a><li><a href="https://bugs.webkit.org/show_bug.cgi?id=171100">Webkit Bug 171100</a><li><a href=https://wpdev.uservoice.com/forums/257854-microsoft-edge-developer/suggestions/31563175-implement-web-share-api>Edge User Voice</a></ul> </div> </main> </main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{},{post:{title:"Sharing made ridiculously easy with Web Share API",description:"With growing mobile usage, performance and leanness (yeah, that’s a word) isbecoming top priority for web apps. Oddly enough, sharing has…",date:"2017-09-22T16:27:20.946Z",categories:"[]",keywords:["web share api","web apis","browser","DOM","PWA","web apps"],slug:"sharing-made-ridiculously-easy-with-web-share-api-9-22-2017",image:"img\u002Fblog\u002F1__qp3z0ij8v372R__DVbuJB6Q.jpeg",html:"\u003Cimg src=\"img\u002Fblog\u002F1__qp3z0ij8v372R__DVbuJB6Q.jpeg\" alt=\"Image with icons of social media platforms\"\u003E\u003Cbr \u002F\u003E\u003Cblockquote\u003EWith growing mobile usage, performance and leanness (yeah, that’s a word) is becoming top priority for web apps. Oddly enough, sharing has never worked out well for web, until now (hopefully).\u003C\u002Fblockquote\u003E\u003Ch3\u003E\u003Ch1\u003EHistory time\u003C\u002Fh1\u003E\u003C\u002Fh3\u003ESince the social network explosion, ad revenue on page views and obsession with \u003Ca href=\"http:\u002F\u002Fdigg.com\u002F\"\u003Edigg\u003C\u002Fa\u003E\\-ing websites, social sharing “widgets” have polluted our browsing experience with numerous flaws:\u003Cbr \u002F\u003E\u003Cimg src=\"img\u002Fblog\u002F1__rW9LubrRX5l06KUeRoCzsA.png\" alt=\"\"\u003E\u003Cbr \u002F\u003E\u003Cul\u003E\u003Cli\u003EThey came with a dozen of JavaScript SDK files for every-single-social-network.\u003C\u002Fli\u003E\u003Cli\u003EThey were usually “sticky”, because that’s so cool.\u003C\u002Fli\u003E\u003Cli\u003EThey were hard to style, always looking pretty off from your website’s look and feel.\u003C\u002Fli\u003E\u003Cli\u003EThey almost always lacked one social network which was big in your region or for your audience.\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cbr \u002F\u003EAll these flaws became more prominent with rise of smartphones. SDKs burdened (and \u003Ca href=\"https:\u002F\u002Fmedium.freecodecamp.org\u002Fwhy-16-of-the-code-on-the-average-site-belongs-to-facebook-and-what-that-means-68956cd731be\"\u003Estill do\u003C\u002Fa\u003E) the network and CPU, “sticky” widgets janked scrolling, and became unsurprisingly \u003Ca href=\"http:\u002F\u002Fthinksem.com\u002Fblog\u002Ffloating-social-media-share-bar-good-or-bad\u002F\"\u003Every annoying\u003C\u002Fa\u003E at smaller resolutions (like they weren’t otherwise). And they certainly weren’t meant for everyone.\u003Cbr \u002F\u003EWhile solutions like lazy-loading and simpler designs helped a lot, it still is a painful job to find the right widget for your website, tweak it till the point it isn’t an eye-sore, only to find out that the users aren’t digg-ing it anymore (shameless pun-intended), and want to share it on XYZ messenger, which doesn’t have an \u003Ca href=\"https:\u002F\u002Ffaq.whatsapp.com\u002Fen\u002Fandroid\u002F28000012\"\u003Eintent\u003C\u002Fa\u003E URL yet.\u003Cbr \u002F\u003E\u003Cimg src=\"img\u002Fblog\u002F1__4xpPKwDeI__BomsMMRntRTw.png\" alt=\"1990s called and it wants you to reply back.\"\u003E\n1990s called and it wants you to reply back.\u003Cbr \u002F\u003ESadly, browsers haven’t cared enough to innovate much in this space lately. There were several attempts by Mozilla, Chrome and even \u003Ca href=\"http:\u002F\u002Fwww.lovemysurface.net\u002Fusing-windows-8-share-charm-surface\u002F\"\u003EWindows 8\u003C\u002Fa\u003E. While they still let you “email” your website on Desktop, and share to your favorite app on mobile, but that’s about it. Developer has no control over the shared title, content or the URL, which is a bigger problem when we talk about SPAs with fancy URLs.\u003Ch3\u003E\u003Ch1\u003Etl;dr\u003C\u002Fh1\u003E\u003C\u002Fh3\u003EAnd this changes with \u003Ca href=\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fupdates\u002F2016\u002F09\u002Fnavigator-share\"\u003EWeb Share API\u003C\u002Fa\u003E. Wow, that’s quite a lot of build up for a simple API, isn’t it ? But this API is remarkable !\u003Cbr \u002F\u003EAnd that’s it ! In order to use it, you need to meet following conditions though:\u003Cbr \u002F\u003E\u003Cblockquote\u003EYour site must be served over \u003Ca href=\"https:\u002F\u002Fwww.chromium.org\u002FHome\u002Fchromium-security\u002Fprefer-secure-origins-for-powerful-new-features\"\u003EHTTPS\u003C\u002Fa\u003E.\u003C\u002Fblockquote\u003E\u003Cbr \u002F\u003E\u003Cblockquote\u003EYou can only invoke the API in response to a user action, such as a click (e.g., you can’t call \u003Ccode\u003Enavigator.share\u003C\u002Fcode\u003E as part of the page load).\u003C\u002Fblockquote\u003E\u003Cbr \u002F\u003E\u003Cblockquote\u003EYou can also share any URL, not just URLs under your website’s current scope: and you may also share \u003Ccode\u003Etext\u003C\u002Fcode\u003E without a URL.\u003C\u002Fblockquote\u003E\u003Cbr \u002F\u003E\u003Cblockquote\u003EYou should feature-detect it in case it’s not available on your users’ platform (e.g., via \u003Ccode\u003E'share' in navigator\u003C\u002Fcode\u003E)\u003C\u002Fblockquote\u003E\u003Cbr \u002F\u003EThe API is still a proposal, however it’s implemented in Chrome 61, which is the latest stable version at time of writing. Which means, in next 6 weeks, this API would be available on almost every other Android phone. If you’re still not sold and think intents are the way to go, you can head over to the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FWICG\u002Fweb-share\u002Fblob\u002Fmaster\u002Fdocs\u002Fexplainer.md#frequently-asked-questions\"\u003EFAQ\u003C\u002Fa\u003E section of the proposal to learn about some decent arguments.\u003Cbr \u002F\u003EThe \u003Ca href=\"http:\u002F\u002Fmobile.twitter.com\u002F\"\u003Eawesome PWA\u003C\u002Fa\u003E of \u003Ca href=\"https:\u002F\u002Fmedium.com\u002F@paularmstrong\u002Ftwitter-lite-and-high-performance-react-progressive-web-apps-at-scale-d28a00e780a3\"\u003ETwitter\u003C\u002Fa\u003E already uses \u003Cimg src=\"img\u002Fblog\u002F1__tGS6QdpXiL7m21oPm25v7A.png\" alt=\"Web Share API for sharing tweets.\"\u003E\u003Ch3\u003E\u003Ch1\u003EFuture\u003C\u002Fh1\u003E\u003C\u002Fh3\u003EDid I say that’s it? Because that isn’t it yet.\u003Cbr \u002F\u003E\u003Cul\u003E\u003Cli\u003EThe share data (title, url and text presently) isn’t just limited to current set. There \u003Ca href=\"https:\u002F\u002Fwicg.github.io\u002Fweb-share\u002F#extensibility-of-this-api\"\u003Ewould\u003C\u002Fa\u003E be additions to it in future, \u003Ccode\u003Eimage\u003C\u002Fcode\u003E being one for example.\u003C\u002Fli\u003E\u003Cli\u003EThere’s a sibling API, \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmgiuca\u002Fweb-share-target\"\u003EWeb Share Target\u003C\u002Fa\u003E, which allows a \u003Ca href=\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fprogressive-web-apps\u002F\"\u003EPWA\u003C\u002Fa\u003E to be listed in the native app share drawer. This brings web apps way closer to the native experience. Learn more about that proposal \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmgiuca\u002Fweb-share-target\u002Fblob\u002Fmaster\u002Fdocs\u002Fexplainer.md\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Ch3\u003E\u003Ch1\u003EContribute\u003C\u002Fh1\u003E\u003C\u002Fh3\u003ESo start adding support to this awesome API right now, and if you would like to have this API well supported please follow\u002Fvote\u002Fshare\u002Fcontribute to the bug numbers I’m listing below;\u003Cbr \u002F\u003E\u003Cul\u003E\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fbugzilla.mozilla.org\u002Fshow_bug.cgi?id=1402369\"\u003EFirefox Bug 1402369\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fbugs.webkit.org\u002Fshow_bug.cgi?id=171100\"\u003EWebkit Bug 171100\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwpdev.uservoice.com\u002Fforums\u002F257854-microsoft-edge-developer\u002Fsuggestions\u002F31563175-implement-web-share-api\"\u003EEdge User Voice\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.add5dcbe.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.add5dcbe.js")}document.head.appendChild(s)</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110963096-1"></script> <script> window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'UA-110963096-1');

		(function (d, s, scripts) {
			var js,
				fjs = d.getElementsByTagName(s)[0];
			for (var i = 0; i < scripts.length; i++) {
				if (!d.getElementById(scripts[i].id)) {
					js = d.createElement(s);
					js.id = scripts[i].id;
					js.src = scripts[i].url;
					fjs.parentNode.insertBefore(js, fjs);
				}
			}
		})(document, "script", [
			{ id: "google-platform", url: "//apis.google.com/js/platform.js" }
		]); </script> 