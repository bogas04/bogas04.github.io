{"pageProps":{"post":{"title":"Sharing made ridiculously easy with Web Share API","description":"With growing mobile usage, performance and leanness (yeah, that’s a word) isbecoming top priority for web apps. Oddly enough, sharing has…","date":"2017-09-22T16:27:20.946Z","categories":"[]","keywords":["web share api","web apis","browser","DOM","PWA","web apps"],"slug":"sharing-made-ridiculously-easy-with-web-share-api-9-22-2017","isDraft":false,"image":"/img/blog/1__qp3z0ij8v372R__DVbuJB6Q.jpeg","html":"<p><img src=\"/img/blog/1__qp3z0ij8v372R__DVbuJB6Q.jpeg\" alt=\"Image with icons of social media platforms\"></p>\n<blockquote>\n<p>With growing mobile usage, performance and leanness (yeah, that’s a word) is becoming top priority for web apps. Oddly enough, sharing has never worked out well for web, until now (hopefully).</p>\n</blockquote>\n<h4>History time</h4>\n<p>Since the social network explosion, ad revenue on page views and obsession with <a href=\"http://digg.com/\">digg</a>-ing websites, social sharing “widgets” have polluted our browsing experience with numerous flaws:</p>\n<p><img src=\"/img/blog/1__rW9LubrRX5l06KUeRoCzsA.png\"></p>\n<ul>\n<li>They came with a dozen of JavaScript SDK files for every-single-social-network.</li>\n<li>They were usually “sticky”, because that’s so cool.</li>\n<li>They were hard to style, always looking pretty off from your website’s look and feel.</li>\n<li>They almost always lacked one social network which was big in your region or for your audience.</li>\n</ul>\n<p>All these flaws became more prominent with rise of smartphones. SDKs burdened (and <a href=\"https://medium.freecodecamp.org/why-16-of-the-code-on-the-average-site-belongs-to-facebook-and-what-that-means-68956cd731be\">still do</a>) the network and CPU, “sticky” widgets janked scrolling, and became unsurprisingly <a href=\"http://thinksem.com/blog/floating-social-media-share-bar-good-or-bad/\">very annoying</a> at smaller resolutions (like they weren’t otherwise). And they certainly weren’t meant for everyone.</p>\n<p>While solutions like lazy-loading and simpler designs helped a lot, it still is a painful job to find the right widget for your website, tweak it till the point it isn’t an eye-sore, only to find out that the users aren’t digg-ing it anymore (shameless pun-intended), and want to share it on XYZ messenger, which doesn’t have an <a href=\"https://faq.whatsapp.com/en/android/28000012\">intent</a> URL yet.</p>\n<p><img src=\"/img/blog/1__4xpPKwDeI__BomsMMRntRTw.png\" alt=\"1990s called and it wants you to reply back.\">\n1990s called and it wants you to reply back.</p>\n<p>Sadly, browsers haven’t cared enough to innovate much in this space lately. There were several attempts by Mozilla, Chrome and even <a href=\"http://www.lovemysurface.net/using-windows-8-share-charm-surface/\">Windows 8</a>. While they still let you “email” your website on Desktop, and share to your favorite app on mobile, but that’s about it. Developer has no control over the shared title, content or the URL, which is a bigger problem when we talk about SPAs with fancy URLs.</p>\n<h4>tl;dr</h4>\n<p>And this changes with <a href=\"https://developers.google.com/web/updates/2016/09/navigator-share\">Web Share API</a>. Wow, that’s quite a lot of build up for a simple API, isn’t it ? But this API is remarkable !</p>\n<p>And that’s it ! In order to use it, you need to meet following conditions though:</p>\n<blockquote>\n<p>Your site must be served over <a href=\"https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\">HTTPS</a>.</p>\n</blockquote>\n<blockquote>\n<p>You can only invoke the API in response to a user action, such as a click (e.g., you can’t call <code>navigator.share</code> as part of the page load).</p>\n</blockquote>\n<blockquote>\n<p>You can also share any URL, not just URLs under your website’s current scope: and you may also share <code>text</code> without a URL.</p>\n</blockquote>\n<blockquote>\n<p>You should feature-detect it in case it’s not available on your users’ platform (e.g., via <code>'share' in navigator</code>)</p>\n</blockquote>\n<p>The API is still a proposal, however it’s implemented in Chrome 61, which is the latest stable version at time of writing. Which means, in next 6 weeks, this API would be available on almost every other Android phone. If you’re still not sold and think intents are the way to go, you can head over to the <a href=\"https://github.com/WICG/web-share/blob/master/docs/explainer.md#frequently-asked-questions\">FAQ</a> section of the proposal to learn about some decent arguments.</p>\n<p>The <a href=\"http://mobile.twitter.com/\">awesome PWA</a> of <a href=\"https://medium.com/@paularmstrong/twitter-lite-and-high-performance-react-progressive-web-apps-at-scale-d28a00e780a3\">Twitter</a> already uses <img src=\"/img/blog/1__tGS6QdpXiL7m21oPm25v7A.png\" alt=\"Web Share API for sharing tweets.\"></p>\n<h4>Future</h4>\n<p>Did I say that’s it? Because that isn’t it yet.</p>\n<ul>\n<li>The share data (title, url and text presently) isn’t just limited to current set. There <a href=\"https://wicg.github.io/web-share/#extensibility-of-this-api\">would</a> be additions to it in future, <code>image</code> being one for example.</li>\n<li>There’s a sibling API, <a href=\"https://github.com/mgiuca/web-share-target\">Web Share Target</a>, which allows a <a href=\"https://developers.google.com/web/progressive-web-apps/\">PWA</a> to be listed in the native app share drawer. This brings web apps way closer to the native experience. Learn more about that proposal <a href=\"https://github.com/mgiuca/web-share-target/blob/master/docs/explainer.md\">here</a>.</li>\n</ul>\n<h4>Contribute</h4>\n<p>So start adding support to this awesome API right now, and if you would like to have this API well supported please follow/vote/share/contribute to the bug numbers I’m listing below;</p>\n<ul>\n<li><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1402369\">Firefox Bug 1402369</a></li>\n<li><a href=\"https://bugs.webkit.org/show_bug.cgi?id=171100\">Webkit Bug 171100</a></li>\n<li><a href=\"https://wpdev.uservoice.com/forums/257854-microsoft-edge-developer/suggestions/31563175-implement-web-share-api\">Edge User Voice</a></li>\n</ul>\n"}},"__N_SSG":true}